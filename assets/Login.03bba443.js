import{_ as h,d as y,r as m,o as v,c as x,a as t,w as b,v as g,b as F,t as B,g as w,u as k,e as E,f as A,i as C,h as V,p as $,j as D}from"./index.41b9361d.js";function z(e,i){const r=/^[-_a-zA-Z0-9]{4,16}$/;return e===null?!1:i===""?(e.style.display="block",e.innerText="\u7528\u6237\u540D\u4E0D\u80FD\u4E3A\u7A7A\uFF01",!1):r.test(i)?!0:(e.style.display="block",e.innerText="\u7528\u6237\u540D\u5E94\u4E3A4\u523016\u4F4D\u5B57\u6BCD\u6570\u5B57\u4E0B\u5212\u7EBF\u51CF\u53F7",!1)}function T(e,i){const r=/\d{6,12}/;return e===null?!1:i===""?(e.style.display="block",e.innerText="\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A\uFF01",!1):r.test(i)?!0:(e.style.display="block",e.innerText="\u5BC6\u7801\u8981\u57286-12\u4F4D\uFF01",!1)}function I(e,i){const r=/^[a-zA-Z0-9]{1,10}@[a-zA-Z0-9]{1,5}\.[a-zA-Z0-9]{1,5}$/;return e===null?!1:i===""?(e.style.display="block",e.innerText="\u90AE\u7BB1\u4E0D\u80FD\u4E3A\u7A7A\uFF01",!1):r.test(i)?!0:(e.style.display="block",e.innerText="\u8BF7\u586B\u5199\u6B63\u786E\u7684\u90AE\u7BB1\u683C\u5F0F\uFF01",!1)}function j(e,i){return e===null?!1:i===""?(e.style.display="block",e.innerText="\u9A8C\u8BC1\u7801\u4E0D\u80FD\u4E3A\u7A7A\uFF01",!1):!0}const S={class:"account-form"},U={class:"form"},L={class:"form-item"},Z={class:"form-item"},M=F('<div class="form-ext" data-v-f2707d7c><div class="left" data-v-f2707d7c><input type="checkbox" id="remember_me" data-v-f2707d7c><label for="remember_me" style="cursor:pointer;" data-v-f2707d7c><span data-v-f2707d7c>\u8BB0\u4F4F\u6211</span></label></div><div class="right" data-v-f2707d7c><a href="#" data-v-f2707d7c>\u5FD8\u8BB0\u5BC6\u7801</a></div></div>',1),R=y({__name:"AccountForm",props:{modelValue:null},setup(e,{expose:i}){const r=e,l=m(null),u=m(null),c=(s,o)=>{if(s==="username")return z(l.value,o||r.modelValue.username);if(s==="password")return T(u.value,o||r.modelValue.password)};i({validate:c});const p=s=>{s==="username"?l.value.style.display="none":s==="password"&&(u.value.style.display="none")};return(s,o)=>(v(),x("div",S,[t("div",U,[t("div",L,[b(t("input",{type:"text",placeholder:"\u8BF7\u8F93\u5165\u8D26\u53F7",onBlur:o[0]||(o[0]=a=>c("username")),onFocus:o[1]||(o[1]=a=>p("username")),"onUpdate:modelValue":o[2]||(o[2]=a=>e.modelValue.username=a)},null,544),[[g,e.modelValue.username]]),t("div",{class:"err",ref_key:"usernameErr",ref:l},"\u8BF7\u8F93\u5165\u8D26\u53F7",512)]),t("div",Z,[b(t("input",{type:"password",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",onBlur:o[3]||(o[3]=a=>c("password")),onFocus:o[4]||(o[4]=a=>p("password")),"onUpdate:modelValue":o[5]||(o[5]=a=>e.modelValue.password=a)},null,544),[[g,e.modelValue.password]]),t("div",{class:"err",ref_key:"passwordErr",ref:u},null,512)]),M])]))}});var N=h(R,[["__scopeId","data-v-f2707d7c"]]);const X={class:"email-form"},G={class:"form"},P={class:"form-item"},Y={class:"form-item"},q={key:0,class:"get-code"},H=y({__name:"EmailForm",props:{modelValue:null},setup(e,{expose:i}){const r=e,l=m(60),u=m(!1),c=m(null),p=m(null),s=(d,n)=>{if(d==="email")return I(c.value,n||r.modelValue.email);if(d==="code")return j(p.value,n||r.modelValue.code)},o=d=>{d==="email"?c.value.style.display="none":d==="code"&&(p.value.style.display="none")},a=()=>{w(r.modelValue.email),u.value=!0;let d=setInterval(()=>{l.value===0&&(l.value=60,clearInterval(d),u.value=!1),l.value--},1e3)};return i({validate:s}),(d,n)=>(v(),x("div",X,[t("div",G,[t("div",P,[b(t("input",{type:"text",placeholder:"\u8BF7\u8F93\u5165\u90AE\u7BB1",onBlur:n[0]||(n[0]=f=>s("email")),onFocus:n[1]||(n[1]=f=>o("email")),"onUpdate:modelValue":n[2]||(n[2]=f=>e.modelValue.email=f)},null,544),[[g,e.modelValue.email]]),t("div",{class:"err",ref_key:"emailErr",ref:c},null,512)]),t("div",Y,[b(t("input",{type:"text",placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801",onBlur:n[3]||(n[3]=f=>s("code")),onFocus:n[4]||(n[4]=f=>o("code")),"onUpdate:modelValue":n[5]||(n[5]=f=>e.modelValue.code=f)},null,544),[[g,e.modelValue.code]]),u.value?(v(),x("span",q,B(l.value+" s"),1)):(v(),x("span",{key:1,class:"get-code",onClick:a},"\u83B7\u53D6\u9A8C\u8BC1\u7801")),t("div",{class:"err",ref_key:"codeErr",ref:p},null,512)])])]))}});var J=h(H,[["__scopeId","data-v-276ec16f"]]);const _=e=>($("data-v-207128de"),e=e(),D(),e),K={class:"login"},O={class:"container"},Q={class:"form-container"},W={class:"title"},ee=_(()=>t("div",{class:"red-bg"},null,-1)),oe=_(()=>t("div",{class:"blue-bg"},null,-1)),te=y({__name:"Login",setup(e){const{login:i}=k(),r=m(!0),l=E({username:"",password:"",email:"",code:""}),u=m(null),c=m(),p=o=>{o==="pwd"?(r.value=!0,u.value.style.transform="translateX("+20+"px)"):o==="email"&&(r.value=!1,u.value.style.transform="translateX("+252+"px)")},s=()=>{const o=c.value.validate;if(r.value){const{username:a,password:d}=l,n=o("username",a),f=o("password",d);n&&f&&i.login(l,r.value)}else{const{email:a,code:d}=l,n=o("email",a),f=o("code",d);n&&f&&i.login(l,r.value)}};return(o,a)=>(v(),x("div",K,[t("div",O,[t("div",Q,[t("div",W,[t("div",{class:"pwd-login",onClick:a[0]||(a[0]=d=>p("pwd"))},"\u5BC6\u7801\u767B\u5F55"),t("div",{class:"email-login",onClick:a[1]||(a[1]=d=>p("email"))},"\u90AE\u7BB1\u767B\u5F55"),t("div",{class:"underline",ref_key:"underline",ref:u},null,512)]),(v(),A(V(r.value?N:J),{ref_key:"formRef",ref:c,modelValue:l,"onUpdate:modelValue":a[2]||(a[2]=d=>C(l)?l.value=d:null)},null,8,["modelValue"])),t("button",{class:"login-btn",onClick:s},"\u767B\u5F55")]),ee,oe])]))}});var re=h(te,[["__scopeId","data-v-207128de"]]);export{re as default};
