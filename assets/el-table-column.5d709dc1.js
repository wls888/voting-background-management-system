import{bu as ro,ay as dt,ax as no,F as be,aR as ft,A as z,bv as ao,E as Z,z as oe,b9 as ol,a1 as rl,r as _,k as Pe,l as te,ac as ht,bw as Ht,b4 as so,n as C,bl as bt,i as Ae,L as Lt,d as ce,P as le,I as nl,bx as De,o as B,f as ye,q as de,w as Ce,a8 as pt,a as J,Q as F,a4 as me,a9 as io,N as Le,c as j,m as fe,U as Ke,C as co,ah as ke,ak as Bt,b1 as al,x as he,M as Rt,e as uo,b2 as Tt,O as Ne,h as Nt,$ as ge,T as fo,a5 as zt,Y as ho,aV as sl,a0 as Ze,G as It,ab as Dt,ai as et,by as bo,aY as il,bz as tt,y as ot,t as He,a3 as cl,b5 as Wt,au as Ve,a2 as po,am as Mt,be as vo,bd as mo,a7 as ie,bp as ul,bc as Kt,K as dl,aS as fl,aQ as Ue,aU as vt,av as A,aP as Be,bk as go,bh as hl,an as yo,W as xo}from"./index.41b9361d.js";import{u as wo,t as _o,d as bl,a as st,y as ko,o as it,b as Co}from"./el-tooltip.a3af5ee2.js";var So=/\s/;function Eo(e){for(var t=e.length;t--&&So.test(e.charAt(t)););return t}var Ho=/^\s+/;function Lo(e){return e&&e.slice(0,Eo(e)+1).replace(Ho,"")}var Vt=0/0,Ro=/^[-+]0x[0-9a-f]+$/i,To=/^0b[01]+$/i,No=/^0o[0-7]+$/i,zo=parseInt;function jt(e){if(typeof e=="number")return e;if(ro(e))return Vt;if(dt(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=dt(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Lo(e);var o=To.test(e);return o||No.test(e)?zo(e.slice(2),o?2:8):Ro.test(e)?Vt:+e}var Wo=function(){return no.Date.now()},ct=Wo,Mo="Expected a function",Ao=Math.max,Fo=Math.min;function lt(e,t,o){var l,n,i,s,a,r,c=0,u=!1,h=!1,d=!0;if(typeof e!="function")throw new TypeError(Mo);t=jt(t)||0,dt(o)&&(u=!!o.leading,h="maxWait"in o,i=h?Ao(jt(o.maxWait)||0,t):i,d="trailing"in o?!!o.trailing:d);function b(k){var x=l,R=n;return l=n=void 0,c=k,s=e.apply(R,x),s}function f(k){return c=k,a=setTimeout(S,t),u?b(k):s}function y(k){var x=k-r,R=k-c,L=t-x;return h?Fo(L,i-R):L}function g(k){var x=k-r,R=k-c;return r===void 0||x>=t||x<0||h&&R>=i}function S(){var k=ct();if(g(k))return m(k);a=setTimeout(S,y(k))}function m(k){return a=void 0,d&&l?b(k):(l=n=void 0,s)}function p(){a!==void 0&&clearTimeout(a),c=0,l=r=n=a=void 0}function v(){return a===void 0?s:m(ct())}function w(){var k=ct(),x=g(k);if(l=arguments,n=this,r=k,x){if(a===void 0)return f(r);if(h)return clearTimeout(a),a=setTimeout(S,t),b(r)}return a===void 0&&(a=setTimeout(S,t)),s}return w.cancel=p,w.flush=v,w}const $o=(e,t)=>{if(!be)return!1;const o={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(t)],l=ft(e,o);return["scroll","auto","overlay"].some(n=>l.includes(n))},On=(e,t)=>{if(!be)return;let o=e;for(;o;){if([window,document,document.documentElement].includes(o))return window;if($o(o,t))return o;o=o.parentNode}return o};let je;const Bn=()=>{var e;if(!be)return 0;if(je!==void 0)return je;const t=document.createElement("div");t.className="el-scrollbar__wrap",t.style.visibility="hidden",t.style.width="100px",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t);const o=t.offsetWidth;t.style.overflow="scroll";const l=document.createElement("div");l.style.width="100%",t.appendChild(l);const n=l.offsetWidth;return(e=t.parentNode)==null||e.removeChild(t),je=o-n,je};function In(e,t){if(!be)return;if(!t){e.scrollTop=0;return}const o=[];let l=t.offsetParent;for(;l!==null&&e!==l&&e.contains(l);)o.push(l),l=l.offsetParent;const n=t.offsetTop+o.reduce((r,c)=>r+c.offsetTop,0),i=n+t.offsetHeight,s=e.scrollTop,a=s+e.clientHeight;n<s?e.scrollTop=n:i>a&&(e.scrollTop=i-e.clientHeight)}const rt="update:modelValue",Dn="change",Kn="input",Po=["class","style"],Oo=/^on[A-Z]/,Vn=(e={})=>{const{excludeListeners:t=!1,excludeKeys:o}=e,l=z(()=>((o==null?void 0:o.value)||[]).concat(Po)),n=Z();return n?z(()=>{var i;return ao(Object.entries((i=n.proxy)==null?void 0:i.$attrs).filter(([s])=>!l.value.includes(s)&&!(t&&Oo.test(s))))}):z(()=>({}))},pl=Symbol("scrollbarContextKey"),jn=()=>{const e=oe(ol,void 0),t=oe(rl,void 0);return{form:e,formItem:t}},vl=(e,{formItemContext:t,disableIdGeneration:o,disableIdManagement:l})=>{o||(o=_(!1)),l||(l=_(!1));const n=_();let i;const s=z(()=>{var a;return!!(!e.label&&t&&t.inputIds&&((a=t.inputIds)==null?void 0:a.length)<=1)});return Pe(()=>{i=te([ht(e,"id"),o],([a,r])=>{const c=a!=null?a:r?void 0:wo().value;c!==n.value&&(t!=null&&t.removeInputId&&(n.value&&t.removeInputId(n.value),!(l!=null&&l.value)&&!r&&c&&t.addInputId(c)),n.value=c)},{immediate:!0})}),Ht(()=>{i&&i(),t!=null&&t.removeInputId&&n.value&&t.removeInputId(n.value)}),{isLabeledByFormItem:s,inputId:n}};var Bo={name:"en",el:{colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"}}};const Io=e=>(t,o)=>Do(t,o,C(e)),Do=(e,t,o)=>bt(o,e,e).replace(/\{(\w+)\}/g,(l,n)=>{var i;return`${(i=t==null?void 0:t[n])!=null?i:`{${n}}`}`}),Ko=e=>{const t=z(()=>C(e).name),o=Ae(e)?e:_(e);return{lang:t,locale:o,t:Io(e)}},ml=()=>{const e=so("locale");return Ko(z(()=>e.value||Bo))},Me=4,Vo={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},jo=({move:e,size:t,bar:o})=>({[o.size]:t,transform:`translate${o.axis}(${e}%)`}),Yo=Lt({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Uo=ce({__name:"thumb",props:Yo,setup(e){const t=e,o="Thumb",l=oe(pl),n=le("scrollbar");l||_o(o,"can not inject scrollbar context");const i=_(),s=_(),a=_({}),r=_(!1);let c=!1,u=!1,h=be?document.onselectstart:null;const d=z(()=>Vo[t.vertical?"vertical":"horizontal"]),b=z(()=>jo({size:t.size,move:t.move,bar:d.value})),f=z(()=>i.value[d.value.offset]**2/l.wrapElement[d.value.scrollSize]/t.ratio/s.value[d.value.offset]),y=x=>{var R;if(x.stopPropagation(),x.ctrlKey||[1,2].includes(x.button))return;(R=window.getSelection())==null||R.removeAllRanges(),S(x);const L=x.currentTarget;!L||(a.value[d.value.axis]=L[d.value.offset]-(x[d.value.client]-L.getBoundingClientRect()[d.value.direction]))},g=x=>{if(!s.value||!i.value||!l.wrapElement)return;const R=Math.abs(x.target.getBoundingClientRect()[d.value.direction]-x[d.value.client]),L=s.value[d.value.offset]/2,$=(R-L)*100*f.value/i.value[d.value.offset];l.wrapElement[d.value.scroll]=$*l.wrapElement[d.value.scrollSize]/100},S=x=>{x.stopImmediatePropagation(),c=!0,document.addEventListener("mousemove",m),document.addEventListener("mouseup",p),h=document.onselectstart,document.onselectstart=()=>!1},m=x=>{if(!i.value||!s.value||c===!1)return;const R=a.value[d.value.axis];if(!R)return;const L=(i.value.getBoundingClientRect()[d.value.direction]-x[d.value.client])*-1,$=s.value[d.value.offset]-R,K=(L-$)*100*f.value/i.value[d.value.offset];l.wrapElement[d.value.scroll]=K*l.wrapElement[d.value.scrollSize]/100},p=()=>{c=!1,a.value[d.value.axis]=0,document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",p),k(),u&&(r.value=!1)},v=()=>{u=!1,r.value=!!t.size},w=()=>{u=!0,r.value=c};nl(()=>{k(),document.removeEventListener("mouseup",p)});const k=()=>{document.onselectstart!==h&&(document.onselectstart=h)};return De(ht(l,"scrollbarElement"),"mousemove",v),De(ht(l,"scrollbarElement"),"mouseleave",w),(x,R)=>(B(),ye(io,{name:C(n).b("fade"),persisted:""},{default:de(()=>[Ce(J("div",{ref_key:"instance",ref:i,class:F([C(n).e("bar"),C(n).is(C(d).key)]),onMousedown:g},[J("div",{ref_key:"thumb",ref:s,class:F(C(n).e("thumb")),style:me(C(b)),onMousedown:y},null,38)],34),[[pt,x.always||r.value]])]),_:1},8,["name"]))}});var Yt=Le(Uo,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/thumb.vue"]]);const Go=Lt({always:{type:Boolean,default:!0},width:String,height:String,ratioX:{type:Number,default:1},ratioY:{type:Number,default:1}}),Xo=ce({__name:"bar",props:Go,setup(e,{expose:t}){const o=e,l=_(0),n=_(0);return t({handleScroll:s=>{if(s){const a=s.offsetHeight-Me,r=s.offsetWidth-Me;n.value=s.scrollTop*100/a*o.ratioY,l.value=s.scrollLeft*100/r*o.ratioX}}}),(s,a)=>(B(),j(Ke,null,[fe(Yt,{move:l.value,ratio:s.ratioX,size:s.width,always:s.always},null,8,["move","ratio","size","always"]),fe(Yt,{move:n.value,ratio:s.ratioY,size:s.height,vertical:"",always:s.always},null,8,["move","ratio","size","always"])],64))}});var qo=Le(Xo,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/bar.vue"]]);const Jo=Lt({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:Boolean,wrapStyle:{type:co([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20}}),Qo={scroll:({scrollTop:e,scrollLeft:t})=>[e,t].every(ke)},Zo={name:"ElScrollbar"},er=ce({...Zo,props:Jo,emits:Qo,setup(e,{expose:t,emit:o}){const l=e,n=le("scrollbar");let i,s;const a=_(),r=_(),c=_(),u=_("0"),h=_("0"),d=_(),b=_(1),f=_(1),y=z(()=>{const w={};return l.height&&(w.height=Bt(l.height)),l.maxHeight&&(w.maxHeight=Bt(l.maxHeight)),[l.wrapStyle,w]}),g=()=>{var w;r.value&&((w=d.value)==null||w.handleScroll(r.value),o("scroll",{scrollTop:r.value.scrollTop,scrollLeft:r.value.scrollLeft}))};function S(w,k){fo(w)?r.value.scrollTo(w):ke(w)&&ke(k)&&r.value.scrollTo(w,k)}const m=w=>{!ke(w)||(r.value.scrollTop=w)},p=w=>{!ke(w)||(r.value.scrollLeft=w)},v=()=>{if(!r.value)return;const w=r.value.offsetHeight-Me,k=r.value.offsetWidth-Me,x=w**2/r.value.scrollHeight,R=k**2/r.value.scrollWidth,L=Math.max(x,l.minSize),$=Math.max(R,l.minSize);b.value=x/(w-x)/(L/(w-L)),f.value=R/(k-R)/($/(k-$)),h.value=L+Me<w?`${L}px`:"",u.value=$+Me<k?`${$}px`:""};return te(()=>l.noresize,w=>{w?(i==null||i(),s==null||s()):({stop:i}=al(c,v),s=De("resize",v))},{immediate:!0}),te(()=>[l.maxHeight,l.height],()=>{l.native||he(()=>{var w;v(),r.value&&((w=d.value)==null||w.handleScroll(r.value))})}),Rt(pl,uo({scrollbarElement:a,wrapElement:r})),Pe(()=>{l.native||he(()=>v())}),Tt(()=>v()),t({wrap$:r,update:v,scrollTo:S,setScrollTop:m,setScrollLeft:p,handleScroll:g}),(w,k)=>(B(),j("div",{ref_key:"scrollbar$",ref:a,class:F(C(n).b())},[J("div",{ref_key:"wrap$",ref:r,class:F([w.wrapClass,C(n).e("wrap"),{[C(n).em("wrap","hidden-default")]:!w.native}]),style:me(C(y)),onScroll:g},[(B(),ye(Nt(w.tag),{ref_key:"resize$",ref:c,class:F([C(n).e("view"),w.viewClass]),style:me(w.viewStyle)},{default:de(()=>[Ne(w.$slots,"default")]),_:3},8,["class","style"]))],38),w.native?ge("v-if",!0):(B(),ye(qo,{key:0,ref_key:"barRef",ref:d,height:h.value,width:u.value,always:w.always,"ratio-x":f.value,"ratio-y":b.value},null,8,["height","width","always","ratio-x","ratio-y"]))],2))}});var tr=Le(er,[["__file","/home/runner/work/element-plus/element-plus/packages/components/scrollbar/src/scrollbar.vue"]]);const gl=zt(tr),Se=new Map;let Ut;be&&(document.addEventListener("mousedown",e=>Ut=e),document.addEventListener("mouseup",e=>{for(const t of Se.values())for(const{documentHandler:o}of t)o(e,Ut)}));function Gt(e,t){let o=[];return Array.isArray(t.arg)?o=t.arg:ho(t.arg)&&o.push(t.arg),function(l,n){const i=t.instance.popperRef,s=l.target,a=n==null?void 0:n.target,r=!t||!t.instance,c=!s||!a,u=e.contains(s)||e.contains(a),h=e===s,d=o.length&&o.some(f=>f==null?void 0:f.contains(s))||o.length&&o.includes(a),b=i&&(i.contains(s)||i.contains(a));r||c||u||h||d||b||t.value(l,n)}}const lr={beforeMount(e,t){Se.has(e)||Se.set(e,[]),Se.get(e).push({documentHandler:Gt(e,t),bindingFn:t.value})},updated(e,t){Se.has(e)||Se.set(e,[]);const o=Se.get(e),l=o.findIndex(i=>i.bindingFn===t.oldValue),n={documentHandler:Gt(e,t),bindingFn:t.value};l>=0?o.splice(l,1,n):o.push(n)},unmounted(e){Se.delete(e)}};var Xt=!1,Re,mt,gt,Ge,Xe,yl,qe,yt,xt,wt,xl,_t,kt,wl,_l;function ne(){if(!Xt){Xt=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),o=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(_t=/\b(iPhone|iP[ao]d)/.exec(e),kt=/\b(iP[ao]d)/.exec(e),wt=/Android/i.exec(e),wl=/FBAN\/\w+;/i.exec(e),_l=/Mobile/i.exec(e),xl=!!/Win64/.exec(e),t){Re=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,Re&&document&&document.documentMode&&(Re=document.documentMode);var l=/(?:Trident\/(\d+.\d+))/.exec(e);yl=l?parseFloat(l[1])+4:Re,mt=t[2]?parseFloat(t[2]):NaN,gt=t[3]?parseFloat(t[3]):NaN,Ge=t[4]?parseFloat(t[4]):NaN,Ge?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),Xe=t&&t[1]?parseFloat(t[1]):NaN):Xe=NaN}else Re=mt=gt=Xe=Ge=NaN;if(o){if(o[1]){var n=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);qe=n?parseFloat(n[1].replace("_",".")):!0}else qe=!1;yt=!!o[2],xt=!!o[3]}else qe=yt=xt=!1}}var Ct={ie:function(){return ne()||Re},ieCompatibilityMode:function(){return ne()||yl>Re},ie64:function(){return Ct.ie()&&xl},firefox:function(){return ne()||mt},opera:function(){return ne()||gt},webkit:function(){return ne()||Ge},safari:function(){return Ct.webkit()},chrome:function(){return ne()||Xe},windows:function(){return ne()||yt},osx:function(){return ne()||qe},linux:function(){return ne()||xt},iphone:function(){return ne()||_t},mobile:function(){return ne()||_t||kt||wt||_l},nativeApp:function(){return ne()||wl},android:function(){return ne()||wt},ipad:function(){return ne()||kt}},or=Ct,Ye=!!(typeof window<"u"&&window.document&&window.document.createElement),rr={canUseDOM:Ye,canUseWorkers:typeof Worker<"u",canUseEventListeners:Ye&&!!(window.addEventListener||window.attachEvent),canUseViewport:Ye&&!!window.screen,isInWorker:!Ye},kl=rr,Cl;kl.canUseDOM&&(Cl=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function nr(e,t){if(!kl.canUseDOM||t&&!("addEventListener"in document))return!1;var o="on"+e,l=o in document;if(!l){var n=document.createElement("div");n.setAttribute(o,"return;"),l=typeof n[o]=="function"}return!l&&Cl&&e==="wheel"&&(l=document.implementation.hasFeature("Events.wheel","3.0")),l}var ar=nr,qt=10,Jt=40,Qt=800;function Sl(e){var t=0,o=0,l=0,n=0;return"detail"in e&&(o=e.detail),"wheelDelta"in e&&(o=-e.wheelDelta/120),"wheelDeltaY"in e&&(o=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=o,o=0),l=t*qt,n=o*qt,"deltaY"in e&&(n=e.deltaY),"deltaX"in e&&(l=e.deltaX),(l||n)&&e.deltaMode&&(e.deltaMode==1?(l*=Jt,n*=Jt):(l*=Qt,n*=Qt)),l&&!t&&(t=l<1?-1:1),n&&!o&&(o=n<1?-1:1),{spinX:t,spinY:o,pixelX:l,pixelY:n}}Sl.getEventType=function(){return or.firefox()?"DOMMouseScroll":ar("wheel")?"wheel":"mousewheel"};var sr=Sl;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const ir=function(e,t){if(e&&e.addEventListener){const o=function(l){const n=sr(l);t&&Reflect.apply(t,this,[l,n])};e.addEventListener("wheel",o,{passive:!0})}},cr={beforeMount(e,t){ir(e,t.value)}},ur={modelValue:{type:Array,default:()=>[]},disabled:Boolean,min:{type:Number,default:void 0},max:{type:Number,default:void 0},size:sl,id:{type:String,default:void 0},label:{type:String,default:void 0},fill:{type:String,default:void 0},textColor:{type:String,default:void 0},tag:{type:String,default:"div"}},El={modelValue:{type:[Number,String,Boolean],default:()=>{}},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:sl,tabindex:[String,Number]},Oe=()=>{const e=oe(ol,{}),t=oe(rl,{}),o=oe("CheckboxGroup",{}),l=z(()=>o&&(o==null?void 0:o.name)==="ElCheckboxGroup"),n=z(()=>t.size);return{isGroup:l,checkboxGroup:o,elForm:e,elFormItemSize:n,elFormItem:t}},dr=(e,{elFormItem:t})=>{const{inputId:o,isLabeledByFormItem:l}=vl(e,{formItemContext:t});return{isLabeledByFormItem:l,groupId:o}},fr=e=>{const t=_(!1),{emit:o}=Z(),{isGroup:l,checkboxGroup:n,elFormItem:i}=Oe(),s=_(!1);return{model:z({get(){var r,c;return l.value?(r=n.modelValue)==null?void 0:r.value:(c=e.modelValue)!=null?c:t.value},set(r){var c;l.value&&Array.isArray(r)?(s.value=n.max!==void 0&&r.length>n.max.value,s.value===!1&&((c=n==null?void 0:n.changeEvent)==null||c.call(n,r))):(o(rt,r),t.value=r)}}),isGroup:l,isLimitExceeded:s,elFormItem:i}},hr=(e,t,{model:o})=>{const{isGroup:l,checkboxGroup:n}=Oe(),i=_(!1),s=et(n==null?void 0:n.checkboxGroupSize,{prop:!0}),a=z(()=>{const u=o.value;return bo(u)==="[object Boolean]"?u:Array.isArray(u)?u.includes(e.label):u!=null?u===e.trueLabel:!!u}),r=et(z(()=>{var u;return l.value?(u=n==null?void 0:n.checkboxGroupSize)==null?void 0:u.value:void 0})),c=z(()=>!!(t.default||e.label));return{isChecked:a,focus:i,size:s,checkboxSize:r,hasOwnLabel:c}},br=(e,{model:t,isChecked:o})=>{const{elForm:l,isGroup:n,checkboxGroup:i}=Oe(),s=z(()=>{var r,c;const u=(r=i.max)==null?void 0:r.value,h=(c=i.min)==null?void 0:c.value;return!!(u||h)&&t.value.length>=u&&!o.value||t.value.length<=h&&o.value});return{isDisabled:z(()=>{var r,c;const u=e.disabled||(l==null?void 0:l.disabled);return(c=n.value?((r=i.disabled)==null?void 0:r.value)||u||s.value:u)!=null?c:!1}),isLimitDisabled:s}},pr=(e,{model:t})=>{function o(){Array.isArray(t.value)&&!t.value.includes(e.label)?t.value.push(e.label):t.value=e.trueLabel||!0}e.checked&&o()},vr=(e,{model:t,isLimitExceeded:o,hasOwnLabel:l,isDisabled:n,isLabeledByFormItem:i})=>{const{elFormItem:s}=Oe(),{emit:a}=Z();function r(d){var b,f;return d===e.trueLabel||d===!0?(b=e.trueLabel)!=null?b:!0:(f=e.falseLabel)!=null?f:!1}function c(d,b){a("change",r(d),b)}function u(d){if(o.value)return;const b=d.target;a("change",r(b.checked),d)}async function h(d){o.value||!l.value&&!n.value&&i.value&&(t.value=r([!1,e.falseLabel].includes(t.value)),await he(),c(t.value,d))}return te(()=>e.modelValue,()=>{var d;(d=s==null?void 0:s.validate)==null||d.call(s,"change").catch(b=>bl())}),{handleChange:u,onClickRoot:h}},Hl={[rt]:e=>Ze(e)||ke(e)||It(e),change:e=>Ze(e)||ke(e)||It(e)},mr={[rt]:e=>Dt(e),change:e=>Dt(e)},Ll=(e,t)=>{const{model:o,isGroup:l,isLimitExceeded:n,elFormItem:i}=fr(e),{focus:s,size:a,isChecked:r,checkboxSize:c,hasOwnLabel:u}=hr(e,t,{model:o}),{isDisabled:h}=br(e,{model:o,isChecked:r}),{inputId:d,isLabeledByFormItem:b}=vl(e,{formItemContext:i,disableIdGeneration:u,disableIdManagement:l}),{handleChange:f,onClickRoot:y}=vr(e,{model:o,isLimitExceeded:n,hasOwnLabel:u,isDisabled:h,isLabeledByFormItem:b});return pr(e,{model:o}),{elFormItem:i,inputId:d,isLabeledByFormItem:b,isChecked:r,isDisabled:h,isGroup:l,checkboxSize:c,hasOwnLabel:u,model:o,handleChange:f,onClickRoot:y,focus:s,size:a}},gr=["tabindex","role","aria-checked"],yr=["id","aria-hidden","name","tabindex","disabled","true-value","false-value"],xr=["id","aria-hidden","disabled","value","name","tabindex"],wr={name:"ElCheckbox"},_r=ce({...wr,props:El,emits:Hl,setup(e){const t=e,o=il(),{inputId:l,isLabeledByFormItem:n,isChecked:i,isDisabled:s,checkboxSize:a,hasOwnLabel:r,model:c,handleChange:u,onClickRoot:h,focus:d}=Ll(t,o),b=le("checkbox");return(f,y)=>(B(),ye(Nt(!C(r)&&C(n)?"span":"label"),{class:F([C(b).b(),C(b).m(C(a)),C(b).is("disabled",C(s)),C(b).is("bordered",f.border),C(b).is("checked",C(i))]),"aria-controls":f.indeterminate?f.controls:null,onClick:C(h)},{default:de(()=>[J("span",{class:F([C(b).e("input"),C(b).is("disabled",C(s)),C(b).is("checked",C(i)),C(b).is("indeterminate",f.indeterminate),C(b).is("focus",C(d))]),tabindex:f.indeterminate?0:void 0,role:f.indeterminate?"checkbox":void 0,"aria-checked":f.indeterminate?"mixed":void 0},[f.trueLabel||f.falseLabel?Ce((B(),j("input",{key:0,id:C(l),"onUpdate:modelValue":y[0]||(y[0]=g=>Ae(c)?c.value=g:null),class:F(C(b).e("original")),type:"checkbox","aria-hidden":f.indeterminate?"true":"false",name:f.name,tabindex:f.tabindex,disabled:C(s),"true-value":f.trueLabel,"false-value":f.falseLabel,onChange:y[1]||(y[1]=(...g)=>C(u)&&C(u)(...g)),onFocus:y[2]||(y[2]=g=>d.value=!0),onBlur:y[3]||(y[3]=g=>d.value=!1)},null,42,yr)),[[tt,C(c)]]):Ce((B(),j("input",{key:1,id:C(l),"onUpdate:modelValue":y[4]||(y[4]=g=>Ae(c)?c.value=g:null),class:F(C(b).e("original")),type:"checkbox","aria-hidden":f.indeterminate?"true":"false",disabled:C(s),value:f.label,name:f.name,tabindex:f.tabindex,onChange:y[5]||(y[5]=(...g)=>C(u)&&C(u)(...g)),onFocus:y[6]||(y[6]=g=>d.value=!0),onBlur:y[7]||(y[7]=g=>d.value=!1)},null,42,xr)),[[tt,C(c)]]),J("span",{class:F(C(b).e("inner"))},null,2)],10,gr),C(r)?(B(),j("span",{key:0,class:F(C(b).e("label"))},[Ne(f.$slots,"default"),f.$slots.default?ge("v-if",!0):(B(),j(Ke,{key:0},[ot(He(f.label),1)],64))],2)):ge("v-if",!0)]),_:3},8,["class","aria-controls","onClick"]))}});var kr=Le(_r,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue"]]);const Cr=["name","tabindex","disabled","true-value","false-value"],Sr=["name","tabindex","disabled","value"],Er={name:"ElCheckboxButton"},Hr=ce({...Er,props:El,emits:Hl,setup(e){const t=e,o=il(),{focus:l,isChecked:n,isDisabled:i,size:s,model:a,handleChange:r}=Ll(t,o),{checkboxGroup:c}=Oe(),u=le("checkbox"),h=z(()=>{var d,b,f,y;const g=(b=(d=c==null?void 0:c.fill)==null?void 0:d.value)!=null?b:"";return{backgroundColor:g,borderColor:g,color:(y=(f=c==null?void 0:c.textColor)==null?void 0:f.value)!=null?y:"",boxShadow:g?`-1px 0 0 0 ${g}`:void 0}});return(d,b)=>(B(),j("label",{class:F([C(u).b("button"),C(u).bm("button",C(s)),C(u).is("disabled",C(i)),C(u).is("checked",C(n)),C(u).is("focus",C(l))])},[d.trueLabel||d.falseLabel?Ce((B(),j("input",{key:0,"onUpdate:modelValue":b[0]||(b[0]=f=>Ae(a)?a.value=f:null),class:F(C(u).be("button","original")),type:"checkbox",name:d.name,tabindex:d.tabindex,disabled:C(i),"true-value":d.trueLabel,"false-value":d.falseLabel,onChange:b[1]||(b[1]=(...f)=>C(r)&&C(r)(...f)),onFocus:b[2]||(b[2]=f=>l.value=!0),onBlur:b[3]||(b[3]=f=>l.value=!1)},null,42,Cr)),[[tt,C(a)]]):Ce((B(),j("input",{key:1,"onUpdate:modelValue":b[4]||(b[4]=f=>Ae(a)?a.value=f:null),class:F(C(u).be("button","original")),type:"checkbox",name:d.name,tabindex:d.tabindex,disabled:C(i),value:d.label,onChange:b[5]||(b[5]=(...f)=>C(r)&&C(r)(...f)),onFocus:b[6]||(b[6]=f=>l.value=!0),onBlur:b[7]||(b[7]=f=>l.value=!1)},null,42,Sr)),[[tt,C(a)]]),d.$slots.default||d.label?(B(),j("span",{key:2,class:F(C(u).be("button","inner")),style:me(C(n)?C(h):void 0)},[Ne(d.$slots,"default",{},()=>[ot(He(d.label),1)])],6)):ge("v-if",!0)],2))}});var Rl=Le(Hr,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue"]]);const Lr={name:"ElCheckboxGroup"},Rr=ce({...Lr,props:ur,emits:mr,setup(e,{emit:t}){const o=e,{elFormItem:l}=Oe(),{groupId:n,isLabeledByFormItem:i}=dr(o,{elFormItem:l}),s=et(),a=le("checkbox"),r=u=>{t(rt,u),he(()=>{t("change",u)})},c=z({get(){return o.modelValue},set(u){r(u)}});return Rt("CheckboxGroup",{name:"ElCheckboxGroup",modelValue:c,...cl(o),checkboxGroupSize:s,changeEvent:r}),te(()=>o.modelValue,()=>{var u;(u=l.validate)==null||u.call(l,"change").catch(h=>bl())}),(u,h)=>(B(),ye(Nt(u.tag),{id:C(n),class:F(C(a).b("group")),role:"group","aria-label":C(i)?void 0:u.label||"checkbox-group","aria-labelledby":C(i)?C(l).labelId:void 0},{default:de(()=>[Ne(u.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"]))}});var Tl=Le(Rr,[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue"]]);const Fe=zt(kr,{CheckboxButton:Rl,CheckboxGroup:Tl});Wt(Rl);Wt(Tl);/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var Tr=/["'&<>]/,Nr=zr;function zr(e){var t=""+e,o=Tr.exec(t);if(!o)return t;var l,n="",i=0,s=0;for(i=o.index;i<t.length;i++){switch(t.charCodeAt(i)){case 34:l="&quot;";break;case 38:l="&amp;";break;case 39:l="&#39;";break;case 60:l="&lt;";break;case 62:l="&gt;";break;default:continue}s!==i&&(n+=t.substring(s,i)),s=i+1,n+=l}return s!==i?n+t.substring(s,i):n}const ut=function(e){let t=e.target;for(;t&&t.tagName.toUpperCase()!=="HTML";){if(t.tagName.toUpperCase()==="TD")return t;t=t.parentNode}return null},Zt=function(e){return e!==null&&typeof e=="object"},Wr=function(e,t,o,l,n){if(!t&&!l&&(!n||Array.isArray(n)&&!n.length))return e;typeof o=="string"?o=o==="descending"?-1:1:o=o&&o<0?-1:1;const i=l?null:function(a,r){return n?(Array.isArray(n)||(n=[n]),n.map(c=>typeof c=="string"?bt(a,c):c(a,r,e))):(t!=="$key"&&Zt(a)&&"$value"in a&&(a=a.$value),[Zt(a)?bt(a,t):a])},s=function(a,r){if(l)return l(a.value,r.value);for(let c=0,u=a.key.length;c<u;c++){if(a.key[c]<r.key[c])return-1;if(a.key[c]>r.key[c])return 1}return 0};return e.map((a,r)=>({value:a,index:r,key:i?i(a,r):null})).sort((a,r)=>{let c=s(a,r);return c||(c=a.index-r.index),c*+o}).map(a=>a.value)},Nl=function(e,t){let o=null;return e.columns.forEach(l=>{l.id===t&&(o=l)}),o},Mr=function(e,t){let o=null;for(let l=0;l<e.columns.length;l++){const n=e.columns[l];if(n.columnKey===t){o=n;break}}return o},el=function(e,t,o){const l=(t.className||"").match(new RegExp(`${o}-table_[^\\s]+`,"gm"));return l?Nl(e,l[0]):null},Q=(e,t)=>{if(!e)throw new Error("Row is required when get row identity");if(typeof t=="string"){if(!t.includes("."))return`${e[t]}`;const o=t.split(".");let l=e;for(const n of o)l=l[n];return`${l}`}else if(typeof t=="function")return t.call(null,e)},Te=function(e,t){const o={};return(e||[]).forEach((l,n)=>{o[Q(l,t)]={row:l,index:n}}),o};function Ar(e,t){const o={};let l;for(l in e)o[l]=e[l];for(l in t)if(Ve(t,l)){const n=t[l];typeof n!="undefined"&&(o[l]=n)}return o}function At(e){return e===""||e!==void 0&&(e=Number.parseInt(e,10),Number.isNaN(e)&&(e="")),e}function zl(e){return e===""||e!==void 0&&(e=At(e),Number.isNaN(e)&&(e=80)),e}function St(e){return typeof e=="number"?e:typeof e=="string"?/^\d+(?:px)?$/.test(e)?Number.parseInt(e,10):e:null}function Fr(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,o)=>(...l)=>t(o(...l)))}function Je(e,t,o){let l=!1;const n=e.indexOf(t),i=n!==-1,s=()=>{e.push(t),l=!0},a=()=>{e.splice(n,1),l=!0};return typeof o=="boolean"?o&&!i?s():!o&&i&&a():i?a():s(),l}function $r(e,t,o="children",l="hasChildren"){const n=s=>!(Array.isArray(s)&&s.length);function i(s,a,r){t(s,a,r),a.forEach(c=>{if(c[l]){t(c,null,r+1);return}const u=c[o];n(u)||i(c,u,r+1)})}e.forEach(s=>{if(s[l]){t(s,null,0);return}const a=s[o];n(a)||i(s,a,0)})}let Ee;function Pr(e,t,o,l,n){const{nextZIndex:i}=po(),s=e==null?void 0:e.dataset.prefix,a=e==null?void 0:e.querySelector(`.${s}-scrollbar__wrap`);function r(){const f=n==="light",y=document.createElement("div");return y.className=`${s}-popper ${f?"is-light":"is-dark"}`,o=Nr(o),y.innerHTML=o,y.style.zIndex=String(i()),e==null||e.appendChild(y),y}function c(){const f=document.createElement("div");return f.className=`${s}-popper__arrow`,f}function u(){h&&h.update()}Ee=()=>{try{h&&h.destroy(),d&&(e==null||e.removeChild(d)),st(t,"mouseenter",u),st(t,"mouseleave",Ee),a&&st(a,"scroll",Ee),Ee=void 0}catch{}};let h=null;const d=r(),b=c();return d.appendChild(b),h=ko(t,d,{strategy:"absolute",modifiers:[{name:"offset",options:{offset:[0,8]}},{name:"arrow",options:{element:b,padding:10}}],...l}),it(t,"mouseenter",u),it(t,"mouseleave",Ee),a&&it(a,"scroll",Ee),h}const Wl=(e,t,o,l)=>{let n=0,i=e;if(l){if(l[e].colSpan>1)return{};for(let r=0;r<e;r++)n+=l[r].colSpan;i=n+l[e].colSpan-1}else n=e;let s;const a=o.states.columns;switch(t){case"left":i<o.states.fixedLeafColumnsLength.value&&(s="left");break;case"right":n>=a.value.length-o.states.rightFixedLeafColumnsLength.value&&(s="right");break;default:i<o.states.fixedLeafColumnsLength.value?s="left":n>=a.value.length-o.states.rightFixedLeafColumnsLength.value&&(s="right")}return s?{direction:s,start:n,after:i}:{}},Ft=(e,t,o,l,n)=>{const i=[],{direction:s,start:a}=Wl(t,o,l,n);if(s){const r=s==="left";i.push(`${e}-fixed-column--${s}`),r&&a===l.states.fixedLeafColumnsLength.value-1?i.push("is-last-column"):!r&&a===l.states.columns.value.length-l.states.rightFixedLeafColumnsLength.value&&i.push("is-first-column")}return i};function tl(e,t){return e+(t.realWidth===null||Number.isNaN(t.realWidth)?Number(t.width):t.realWidth)}const $t=(e,t,o,l)=>{const{direction:n,start:i=0}=Wl(e,t,o,l);if(!n)return;const s={},a=n==="left",r=o.states.columns.value;return a?s.left=r.slice(0,e).reduce(tl,0):s.right=r.slice(i+1).reverse().reduce(tl,0),s},$e=(e,t)=>{!e||Number.isNaN(e[t])||(e[t]=`${e[t]}px`)};function Or(e){const t=Z(),o=_(!1),l=_([]);return{updateExpandRows:()=>{const r=e.data.value||[],c=e.rowKey.value;if(o.value)l.value=r.slice();else if(c){const u=Te(l.value,c);l.value=r.reduce((h,d)=>{const b=Q(d,c);return u[b]&&h.push(d),h},[])}else l.value=[]},toggleRowExpansion:(r,c)=>{Je(l.value,r,c)&&t.emit("expand-change",r,l.value.slice())},setExpandRowKeys:r=>{t.store.assertRowKey();const c=e.data.value||[],u=e.rowKey.value,h=Te(c,u);l.value=r.reduce((d,b)=>{const f=h[b];return f&&d.push(f.row),d},[])},isRowExpanded:r=>{const c=e.rowKey.value;return c?!!Te(l.value,c)[Q(r,c)]:l.value.includes(r)},states:{expandRows:l,defaultExpandAll:o}}}function Br(e){const t=Z(),o=_(null),l=_(null),n=c=>{t.store.assertRowKey(),o.value=c,s(c)},i=()=>{o.value=null},s=c=>{const{data:u,rowKey:h}=e;let d=null;h.value&&(d=(C(u)||[]).find(b=>Q(b,h.value)===c)),l.value=d,t.emit("current-change",l.value,null)};return{setCurrentRowKey:n,restoreCurrentRowKey:i,setCurrentRowByKey:s,updateCurrentRow:c=>{const u=l.value;if(c&&c!==u){l.value=c,t.emit("current-change",l.value,u);return}!c&&u&&(l.value=null,t.emit("current-change",null,u))},updateCurrentRowData:()=>{const c=e.rowKey.value,u=e.data.value||[],h=l.value;if(!u.includes(h)&&h){if(c){const d=Q(h,c);s(d)}else l.value=null;l.value===null&&t.emit("current-change",null,h)}else o.value&&(s(o.value),i())},states:{_currentRowKey:o,currentRow:l}}}function Ir(e){const t=_([]),o=_({}),l=_(16),n=_(!1),i=_({}),s=_("hasChildren"),a=_("children"),r=Z(),c=z(()=>{if(!e.rowKey.value)return{};const S=e.data.value||[];return h(S)}),u=z(()=>{const S=e.rowKey.value,m=Object.keys(i.value),p={};return m.length&&m.forEach(v=>{if(i.value[v].length){const w={children:[]};i.value[v].forEach(k=>{const x=Q(k,S);w.children.push(x),k[s.value]&&!p[x]&&(p[x]={children:[]})}),p[v]=w}}),p}),h=S=>{const m=e.rowKey.value,p={};return $r(S,(v,w,k)=>{const x=Q(v,m);Array.isArray(w)?p[x]={children:w.map(R=>Q(R,m)),level:k}:n.value&&(p[x]={children:[],lazy:!0,level:k})},a.value,s.value),p},d=(S=!1,m=(p=>(p=r.store)==null?void 0:p.states.defaultExpandAll.value)())=>{var p;const v=c.value,w=u.value,k=Object.keys(v),x={};if(k.length){const R=C(o),L=[],$=(P,Y)=>{if(S)return t.value?m||t.value.includes(Y):!!(m||(P==null?void 0:P.expanded));{const V=m||t.value&&t.value.includes(Y);return!!((P==null?void 0:P.expanded)||V)}};k.forEach(P=>{const Y=R[P],V={...v[P]};if(V.expanded=$(Y,P),V.lazy){const{loaded:G=!1,loading:X=!1}=Y||{};V.loaded=!!G,V.loading=!!X,L.push(P)}x[P]=V});const K=Object.keys(w);n.value&&K.length&&L.length&&K.forEach(P=>{const Y=R[P],V=w[P].children;if(L.includes(P)){if(x[P].children.length!==0)throw new Error("[ElTable]children must be an empty array.");x[P].children=V}else{const{loaded:G=!1,loading:X=!1}=Y||{};x[P]={lazy:!0,loaded:!!G,loading:!!X,expanded:$(Y,P),children:V,level:""}}})}o.value=x,(p=r.store)==null||p.updateTableScrollY()};te(()=>t.value,()=>{d(!0)}),te(()=>c.value,()=>{d()}),te(()=>u.value,()=>{d()});const b=S=>{t.value=S,d()},f=(S,m)=>{r.store.assertRowKey();const p=e.rowKey.value,v=Q(S,p),w=v&&o.value[v];if(v&&w&&"expanded"in w){const k=w.expanded;m=typeof m=="undefined"?!w.expanded:m,o.value[v].expanded=m,k!==m&&r.emit("expand-change",S,m),r.store.updateTableScrollY()}},y=S=>{r.store.assertRowKey();const m=e.rowKey.value,p=Q(S,m),v=o.value[p];n.value&&v&&"loaded"in v&&!v.loaded?g(S,p,v):f(S,void 0)},g=(S,m,p)=>{const{load:v}=r.props;v&&!o.value[m].loaded&&(o.value[m].loading=!0,v(S,p,w=>{if(!Array.isArray(w))throw new TypeError("[ElTable] data must be an array");o.value[m].loading=!1,o.value[m].loaded=!0,o.value[m].expanded=!0,w.length&&(i.value[m]=w),r.emit("expand-change",S,!0)}))};return{loadData:g,loadOrToggle:y,toggleTreeExpansion:f,updateTreeExpandKeys:b,updateTreeData:d,normalize:h,states:{expandRowKeys:t,treeData:o,indent:l,lazy:n,lazyTreeNodeMap:i,lazyColumnIdentifier:s,childrenColumnName:a}}}const Dr=(e,t)=>{const o=t.sortingColumn;return!o||typeof o.sortable=="string"?e:Wr(e,t.sortProp,t.sortOrder,o.sortMethod,o.sortBy)},Qe=e=>{const t=[];return e.forEach(o=>{o.children?t.push.apply(t,Qe(o.children)):t.push(o)}),t};function Kr(){var e;const t=Z(),{size:o}=cl((e=t.proxy)==null?void 0:e.$props),l=_(null),n=_([]),i=_([]),s=_(!1),a=_([]),r=_([]),c=_([]),u=_([]),h=_([]),d=_([]),b=_([]),f=_([]),y=_(0),g=_(0),S=_(0),m=_(!1),p=_([]),v=_(!1),w=_(!1),k=_(null),x=_({}),R=_(null),L=_(null),$=_(null),K=_(null),P=_(null);te(n,()=>t.state&&G(!1),{deep:!0});const Y=()=>{if(!l.value)throw new Error("[ElTable] prop row-key is required")},V=()=>{u.value=a.value.filter(D=>D.fixed===!0||D.fixed==="left"),h.value=a.value.filter(D=>D.fixed==="right"),u.value.length>0&&a.value[0]&&a.value[0].type==="selection"&&!a.value[0].fixed&&(a.value[0].fixed=!0,u.value.unshift(a.value[0]));const N=a.value.filter(D=>!D.fixed);r.value=[].concat(u.value).concat(N).concat(h.value);const W=Qe(N),I=Qe(u.value),M=Qe(h.value);y.value=W.length,g.value=I.length,S.value=M.length,c.value=[].concat(I).concat(W).concat(M),s.value=u.value.length>0||h.value.length>0},G=(N,W=!1)=>{N&&V(),W?t.state.doLayout():t.state.debouncedUpdateLayout()},X=N=>p.value.includes(N),T=()=>{m.value=!1,p.value.length&&(p.value=[],t.emit("selection-change",[]))},H=()=>{let N;if(l.value){N=[];const W=Te(p.value,l.value),I=Te(n.value,l.value);for(const M in W)Ve(W,M)&&!I[M]&&N.push(W[M].row)}else N=p.value.filter(W=>!n.value.includes(W));if(N.length){const W=p.value.filter(I=>!N.includes(I));p.value=W,t.emit("selection-change",W.slice())}},E=()=>(p.value||[]).slice(),O=(N,W=void 0,I=!0)=>{if(Je(p.value,N,W)){const D=(p.value||[]).slice();I&&t.emit("select",D,N),t.emit("selection-change",D)}},U=()=>{var N,W;const I=w.value?!m.value:!(m.value||p.value.length);m.value=I;let M=!1,D=0;const ee=(W=(N=t==null?void 0:t.store)==null?void 0:N.states)==null?void 0:W.rowKey.value;n.value.forEach((se,We)=>{const _e=We+D;k.value?k.value.call(null,se,_e)&&Je(p.value,se,I)&&(M=!0):Je(p.value,se,I)&&(M=!0),D+=ae(Q(se,ee))}),M&&t.emit("selection-change",p.value?p.value.slice():[]),t.emit("select-all",p.value)},q=()=>{const N=Te(p.value,l.value);n.value.forEach(W=>{const I=Q(W,l.value),M=N[I];M&&(p.value[M.index]=W)})},re=()=>{var N,W,I;if(((N=n.value)==null?void 0:N.length)===0){m.value=!1;return}let M;l.value&&(M=Te(p.value,l.value));const D=function(_e){return M?!!M[Q(_e,l.value)]:p.value.includes(_e)};let ee=!0,se=0,We=0;for(let _e=0,eo=(n.value||[]).length;_e<eo;_e++){const to=(I=(W=t==null?void 0:t.store)==null?void 0:W.states)==null?void 0:I.rowKey.value,lo=_e+We,at=n.value[_e],oo=k.value&&k.value.call(null,at,lo);if(D(at))se++;else if(!k.value||oo){ee=!1;break}We+=ae(Q(at,to))}se===0&&(ee=!1),m.value=ee},ae=N=>{var W;if(!t||!t.store)return 0;const{treeData:I}=t.store.states;let M=0;const D=(W=I.value[N])==null?void 0:W.children;return D&&(M+=D.length,D.forEach(ee=>{M+=ae(ee)})),M},pe=(N,W)=>{Array.isArray(N)||(N=[N]);const I={};return N.forEach(M=>{x.value[M.id]=W,I[M.columnKey||M.id]=W}),I},ue=(N,W,I)=>{L.value&&L.value!==N&&(L.value.order=null),L.value=N,$.value=W,K.value=I},ve=()=>{let N=C(i);Object.keys(x.value).forEach(W=>{const I=x.value[W];if(!I||I.length===0)return;const M=Nl({columns:c.value},W);M&&M.filterMethod&&(N=N.filter(D=>I.some(ee=>M.filterMethod.call(null,ee,D,M))))}),R.value=N},we=()=>{n.value=Dr(R.value,{sortingColumn:L.value,sortProp:$.value,sortOrder:K.value})},ze=(N=void 0)=>{N&&N.filter||ve(),we()},nt=N=>{const{tableHeaderRef:W}=t.refs;if(!W)return;const I=Object.assign({},W.filterPanels),M=Object.keys(I);if(!!M.length)if(typeof N=="string"&&(N=[N]),Array.isArray(N)){const D=N.map(ee=>Mr({columns:c.value},ee));M.forEach(ee=>{const se=D.find(We=>We.id===ee);se&&(se.filteredValue=[])}),t.store.commit("filterChange",{column:D,values:[],silent:!0,multi:!0})}else M.forEach(D=>{const ee=c.value.find(se=>se.id===D);ee&&(ee.filteredValue=[])}),x.value={},t.store.commit("filterChange",{column:{},values:[],silent:!0})},Bl=()=>{!L.value||(ue(null,null,null),t.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:Il,toggleRowExpansion:Ot,updateExpandRows:Dl,states:Kl,isRowExpanded:Vl}=Or({data:n,rowKey:l}),{updateTreeExpandKeys:jl,toggleTreeExpansion:Yl,updateTreeData:Ul,loadOrToggle:Gl,states:Xl}=Ir({data:n,rowKey:l}),{updateCurrentRowData:ql,updateCurrentRow:Jl,setCurrentRowKey:Ql,states:Zl}=Br({data:n,rowKey:l});return{assertRowKey:Y,updateColumns:V,scheduleLayout:G,isSelected:X,clearSelection:T,cleanSelection:H,getSelectionRows:E,toggleRowSelection:O,_toggleAllSelection:U,toggleAllSelection:null,updateSelectionByRowKey:q,updateAllSelected:re,updateFilters:pe,updateCurrentRow:Jl,updateSort:ue,execFilter:ve,execSort:we,execQuery:ze,clearFilter:nt,clearSort:Bl,toggleRowExpansion:Ot,setExpandRowKeysAdapter:N=>{Il(N),jl(N)},setCurrentRowKey:Ql,toggleRowExpansionAdapter:(N,W)=>{c.value.some(({type:M})=>M==="expand")?Ot(N,W):Yl(N,W)},isRowExpanded:Vl,updateExpandRows:Dl,updateCurrentRowData:ql,loadOrToggle:Gl,updateTreeData:Ul,states:{tableSize:o,rowKey:l,data:n,_data:i,isComplex:s,_columns:a,originColumns:r,columns:c,fixedColumns:u,rightFixedColumns:h,leafColumns:d,fixedLeafColumns:b,rightFixedLeafColumns:f,leafColumnsLength:y,fixedLeafColumnsLength:g,rightFixedLeafColumnsLength:S,isAllSelected:m,selection:p,reserveSelection:v,selectOnIndeterminate:w,selectable:k,filters:x,filteredData:R,sortingColumn:L,sortProp:$,sortOrder:K,hoverRow:P,...Kl,...Xl,...Zl}}}function Et(e,t){return e.map(o=>{var l;return o.id===t.id?t:((l=o.children)!=null&&l.length&&(o.children=Et(o.children,t)),o)})}function Ml(e){e.forEach(t=>{var o,l;t.no=(o=t.getColumnIndex)==null?void 0:o.call(t),(l=t.children)!=null&&l.length&&Ml(t.children)}),e.sort((t,o)=>t.no-o.no)}function Vr(){const e=Z(),t=Kr();return{ns:le("table"),...t,mutations:{setData(s,a){const r=C(s._data)!==a;s.data.value=a,s._data.value=a,e.store.execQuery(),e.store.updateCurrentRowData(),e.store.updateExpandRows(),e.store.updateTreeData(e.store.states.defaultExpandAll.value),C(s.reserveSelection)?(e.store.assertRowKey(),e.store.updateSelectionByRowKey()):r?e.store.clearSelection():e.store.cleanSelection(),e.store.updateAllSelected(),e.$ready&&e.store.scheduleLayout()},insertColumn(s,a,r){const c=C(s._columns);let u=[];r?(r&&!r.children&&(r.children=[]),r.children.push(a),u=Et(c,r)):(c.push(a),u=c),Ml(u),s._columns.value=u,a.type==="selection"&&(s.selectable.value=a.selectable,s.reserveSelection.value=a.reserveSelection),e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},removeColumn(s,a,r){const c=C(s._columns)||[];if(r)r.children.splice(r.children.findIndex(u=>u.id===a.id),1),r.children.length===0&&delete r.children,s._columns.value=Et(c,r);else{const u=c.indexOf(a);u>-1&&(c.splice(u,1),s._columns.value=c)}e.$ready&&(e.store.updateColumns(),e.store.scheduleLayout())},sort(s,a){const{prop:r,order:c,init:u}=a;if(r){const h=C(s.columns).find(d=>d.property===r);h&&(h.order=c,e.store.updateSort(h,r,c),e.store.commit("changeSortCondition",{init:u}))}},changeSortCondition(s,a){const{sortingColumn:r,sortProp:c,sortOrder:u}=s;C(u)===null&&(s.sortingColumn.value=null,s.sortProp.value=null);const h={filter:!0};e.store.execQuery(h),(!a||!(a.silent||a.init))&&e.emit("sort-change",{column:C(r),prop:C(c),order:C(u)}),e.store.updateTableScrollY()},filterChange(s,a){const{column:r,values:c,silent:u}=a,h=e.store.updateFilters(r,c);e.store.execQuery(),u||e.emit("filter-change",h),e.store.updateTableScrollY()},toggleAllSelection(){e.store.toggleAllSelection()},rowSelectedChanged(s,a){e.store.toggleRowSelection(a),e.store.updateAllSelected()},setHoverRow(s,a){s.hoverRow.value=a},setCurrentRow(s,a){e.store.updateCurrentRow(a)}},commit:function(s,...a){const r=e.store.mutations;if(r[s])r[s].apply(e,[e.store.states].concat(a));else throw new Error(`Action not found: ${s}`)},updateTableScrollY:function(){he(()=>e.layout.updateScrollY.apply(e.layout))}}}const Ie={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data",["treeProps.hasChildren"]:{key:"lazyColumnIdentifier",default:"hasChildren"},["treeProps.children"]:{key:"childrenColumnName",default:"children"}};function jr(e,t){if(!e)throw new Error("Table is required.");const o=Vr();return o.toggleAllSelection=lt(o._toggleAllSelection,10),Object.keys(Ie).forEach(l=>{Al(Fl(t,l),l,o)}),Yr(o,t),o}function Yr(e,t){Object.keys(Ie).forEach(o=>{te(()=>Fl(t,o),l=>{Al(l,o,e)})})}function Al(e,t,o){let l=e,n=Ie[t];typeof Ie[t]=="object"&&(n=n.key,l=l||Ie[t].default),o.states[n].value=l}function Fl(e,t){if(t.includes(".")){const o=t.split(".");let l=e;return o.forEach(n=>{l=l[n]}),l}else return e[t]}class Ur{constructor(t){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=_(null),this.scrollX=_(!1),this.scrollY=_(!1),this.bodyWidth=_(null),this.fixedWidth=_(null),this.rightFixedWidth=_(null),this.tableHeight=_(null),this.headerHeight=_(44),this.appendHeight=_(0),this.footerHeight=_(44),this.viewportHeight=_(null),this.bodyHeight=_(null),this.bodyScrollHeight=_(0),this.fixedBodyHeight=_(null),this.gutterWidth=0;for(const o in t)Ve(t,o)&&(Ae(this[o])?this[o].value=t[o]:this[o]=t[o]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(this.height.value===null)return!1;const o=this.table.refs.bodyWrapper;if(this.table.vnode.el&&o){let l=!0;const n=this.scrollY.value;return this.bodyHeight.value===null?l=!1:l=o.scrollHeight>this.bodyHeight.value,this.scrollY.value=l,n!==l}return!1}setHeight(t,o="height"){if(!be)return;const l=this.table.vnode.el;if(t=St(t),this.height.value=Number(t),!l&&(t||t===0))return he(()=>this.setHeight(t,o));typeof t=="number"?(l.style[o]=`${t}px`,this.updateElsHeight()):typeof t=="string"&&(l.style[o]=t,this.updateElsHeight())}setMaxHeight(t){this.setHeight(t,"max-height")}getFlattenColumns(){const t=[];return this.table.store.states.columns.value.forEach(l=>{l.isColumnGroup?t.push.apply(t,l.columns):t.push(l)}),t}updateElsHeight(){var t,o;if(!this.table.$ready)return he(()=>this.updateElsHeight());const{tableWrapper:l,headerWrapper:n,appendWrapper:i,footerWrapper:s,tableHeader:a,tableBody:r}=this.table.refs;if(l&&l.style.display==="none")return;const{tableLayout:c}=this.table.props;if(this.appendHeight.value=i?i.offsetHeight:0,this.showHeader&&!n&&c==="fixed")return;const u=a||null,h=this.headerDisplayNone(u),d=(n==null?void 0:n.offsetHeight)||0,b=this.headerHeight.value=this.showHeader?d:0;if(this.showHeader&&!h&&d>0&&(this.table.store.states.columns.value||[]).length>0&&b<2)return he(()=>this.updateElsHeight());const f=this.tableHeight.value=(o=(t=this.table)==null?void 0:t.vnode.el)==null?void 0:o.clientHeight,y=this.footerHeight.value=s?s.offsetHeight:0;this.height.value!==null&&(this.bodyHeight.value===null&&requestAnimationFrame(()=>this.updateElsHeight()),this.bodyHeight.value=f-b-y+(s?1:0),this.bodyScrollHeight.value=r==null?void 0:r.scrollHeight),this.fixedBodyHeight.value=this.scrollX.value?this.bodyHeight.value-this.gutterWidth:this.bodyHeight.value,this.viewportHeight.value=this.scrollX.value?f-this.gutterWidth:f,this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(t){if(!t)return!0;let o=t;for(;o.tagName!=="DIV";){if(getComputedStyle(o).display==="none")return!0;o=o.parentElement}return!1}updateColumnsWidth(){if(!be)return;const t=this.fit,o=this.table.vnode.el.clientWidth;let l=0;const n=this.getFlattenColumns(),i=n.filter(r=>typeof r.width!="number");if(n.forEach(r=>{typeof r.width=="number"&&r.realWidth&&(r.realWidth=null)}),i.length>0&&t){if(n.forEach(r=>{l+=Number(r.width||r.minWidth||80)}),l<=o){this.scrollX.value=!1;const r=o-l;if(i.length===1)i[0].realWidth=Number(i[0].minWidth||80)+r;else{const c=i.reduce((d,b)=>d+Number(b.minWidth||80),0),u=r/c;let h=0;i.forEach((d,b)=>{if(b===0)return;const f=Math.floor(Number(d.minWidth||80)*u);h+=f,d.realWidth=Number(d.minWidth||80)+f}),i[0].realWidth=Number(i[0].minWidth||80)+r-h}}else this.scrollX.value=!0,i.forEach(r=>{r.realWidth=Number(r.minWidth)});this.bodyWidth.value=Math.max(l,o),this.table.state.resizeState.value.width=this.bodyWidth.value}else n.forEach(r=>{!r.width&&!r.minWidth?r.realWidth=80:r.realWidth=Number(r.width||r.minWidth),l+=r.realWidth}),this.scrollX.value=l>o,this.bodyWidth.value=l;const s=this.store.states.fixedColumns.value;if(s.length>0){let r=0;s.forEach(c=>{r+=Number(c.realWidth||c.width)}),this.fixedWidth.value=r}const a=this.store.states.rightFixedColumns.value;if(a.length>0){let r=0;a.forEach(c=>{r+=Number(c.realWidth||c.width)}),this.rightFixedWidth.value=r}this.notifyObservers("columns")}addObserver(t){this.observers.push(t)}removeObserver(t){const o=this.observers.indexOf(t);o!==-1&&this.observers.splice(o,1)}notifyObservers(t){this.observers.forEach(l=>{var n,i;switch(t){case"columns":(n=l.state)==null||n.onColumnsChange(this);break;case"scrollable":(i=l.state)==null||i.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${t}.`)}})}}const{CheckboxGroup:Gr}=Fe,Xr=ce({name:"ElTableFilterPanel",components:{ElCheckbox:Fe,ElCheckboxGroup:Gr,ElScrollbar:gl,ElTooltip:Co,ElIcon:Mt,ArrowDown:vo,ArrowUp:mo},directives:{ClickOutside:lr},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function}},setup(e){const t=Z(),{t:o}=ml(),l=le("table-filter"),n=t==null?void 0:t.parent;n.filterPanels.value[e.column.id]||(n.filterPanels.value[e.column.id]=t);const i=_(!1),s=_(null),a=z(()=>e.column&&e.column.filters),r=z({get:()=>{var v;return(((v=e.column)==null?void 0:v.filteredValue)||[])[0]},set:v=>{c.value&&(typeof v!="undefined"&&v!==null?c.value.splice(0,1,v):c.value.splice(0,1))}}),c=z({get(){return e.column?e.column.filteredValue||[]:[]},set(v){e.column&&e.upDataColumn("filteredValue",v)}}),u=z(()=>e.column?e.column.filterMultiple:!0),h=v=>v.value===r.value,d=()=>{i.value=!1},b=v=>{v.stopPropagation(),i.value=!i.value},f=()=>{i.value=!1},y=()=>{m(c.value),d()},g=()=>{c.value=[],m(c.value),d()},S=v=>{r.value=v,m(typeof v!="undefined"&&v!==null?c.value:[]),d()},m=v=>{e.store.commit("filterChange",{column:e.column,values:v}),e.store.updateAllSelected()};te(i,v=>{e.column&&e.upDataColumn("filterOpened",v)},{immediate:!0});const p=z(()=>{var v,w;return(w=(v=s.value)==null?void 0:v.popperRef)==null?void 0:w.contentRef});return{tooltipVisible:i,multiple:u,filteredValue:c,filterValue:r,filters:a,handleConfirm:y,handleReset:g,handleSelect:S,isActive:h,t:o,ns:l,showFilterPanel:b,hideFilterPanel:f,popperPaneRef:p,tooltip:s}}}),qr={key:0},Jr=["disabled"],Qr=["label","onClick"];function Zr(e,t,o,l,n,i){const s=ie("el-checkbox"),a=ie("el-checkbox-group"),r=ie("el-scrollbar"),c=ie("arrow-up"),u=ie("arrow-down"),h=ie("el-icon"),d=ie("el-tooltip"),b=ul("click-outside");return B(),ye(d,{ref:"tooltip",visible:e.tooltipVisible,"onUpdate:visible":t[5]||(t[5]=f=>e.tooltipVisible=f),offset:0,placement:e.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":e.ns.b(),persistent:""},{content:de(()=>[e.multiple?(B(),j("div",qr,[J("div",{class:F(e.ns.e("content"))},[fe(r,{"wrap-class":e.ns.e("wrap")},{default:de(()=>[fe(a,{modelValue:e.filteredValue,"onUpdate:modelValue":t[0]||(t[0]=f=>e.filteredValue=f),class:F(e.ns.e("checkbox-group"))},{default:de(()=>[(B(!0),j(Ke,null,Kt(e.filters,f=>(B(),ye(s,{key:f.value,label:f.value},{default:de(()=>[ot(He(f.text),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue","class"])]),_:1},8,["wrap-class"])],2),J("div",{class:F(e.ns.e("bottom"))},[J("button",{class:F({[e.ns.is("disabled")]:e.filteredValue.length===0}),disabled:e.filteredValue.length===0,type:"button",onClick:t[1]||(t[1]=(...f)=>e.handleConfirm&&e.handleConfirm(...f))},He(e.t("el.table.confirmFilter")),11,Jr),J("button",{type:"button",onClick:t[2]||(t[2]=(...f)=>e.handleReset&&e.handleReset(...f))},He(e.t("el.table.resetFilter")),1)],2)])):(B(),j("ul",{key:1,class:F(e.ns.e("list"))},[J("li",{class:F([e.ns.e("list-item"),{[e.ns.is("active")]:e.filterValue===void 0||e.filterValue===null}]),onClick:t[3]||(t[3]=f=>e.handleSelect(null))},He(e.t("el.table.clearFilter")),3),(B(!0),j(Ke,null,Kt(e.filters,f=>(B(),j("li",{key:f.value,class:F([e.ns.e("list-item"),e.ns.is("active",e.isActive(f))]),label:f.value,onClick:y=>e.handleSelect(f.value)},He(f.text),11,Qr))),128))],2))]),default:de(()=>[Ce((B(),j("span",{class:F([`${e.ns.namespace.value}-table__column-filter-trigger`,`${e.ns.namespace.value}-none-outline`]),onClick:t[4]||(t[4]=(...f)=>e.showFilterPanel&&e.showFilterPanel(...f))},[fe(h,null,{default:de(()=>[e.column.filterOpened?(B(),ye(c,{key:0})):(B(),ye(u,{key:1}))]),_:1})],2)),[[b,e.hideFilterPanel,e.popperPaneRef]])]),_:1},8,["visible","placement","popper-class"])}var en=Le(Xr,[["render",Zr],["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/filter-panel.vue"]]);function $l(e){const t=Z();dl(()=>{o.value.addObserver(t)}),Pe(()=>{l(o.value),n(o.value)}),Tt(()=>{l(o.value),n(o.value)}),Ht(()=>{o.value.removeObserver(t)});const o=z(()=>{const i=e.layout;if(!i)throw new Error("Can not find table layout.");return i}),l=i=>{var s;const a=((s=e.vnode.el)==null?void 0:s.querySelectorAll("colgroup > col"))||[];if(!a.length)return;const r=i.getFlattenColumns(),c={};r.forEach(u=>{c[u.id]=u});for(let u=0,h=a.length;u<h;u++){const d=a[u],b=d.getAttribute("name"),f=c[b];f&&d.setAttribute("width",f.realWidth||f.width)}},n=i=>{var s,a;const r=((s=e.vnode.el)==null?void 0:s.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let u=0,h=r.length;u<h;u++)r[u].setAttribute("width",i.scrollY.value?i.gutterWidth:"0");const c=((a=e.vnode.el)==null?void 0:a.querySelectorAll("th.gutter"))||[];for(let u=0,h=c.length;u<h;u++){const d=c[u];d.style.width=i.scrollY.value?`${i.gutterWidth}px`:"0",d.style.display=i.scrollY.value?"":"none"}};return{tableLayout:o.value,onColumnsChange:l,onScrollableChange:n}}const xe=Symbol("ElTable");function tn(e,t){const o=Z(),l=oe(xe),n=y=>{y.stopPropagation()},i=(y,g)=>{!g.filters&&g.sortable?f(y,g,!1):g.filterable&&!g.sortable&&n(y),l==null||l.emit("header-click",g,y)},s=(y,g)=>{l==null||l.emit("header-contextmenu",g,y)},a=_(null),r=_(!1),c=_({}),u=(y,g)=>{if(!!be&&!(g.children&&g.children.length>0)&&a.value&&e.border){r.value=!0;const S=l;t("set-drag-visible",!0);const p=(S==null?void 0:S.vnode.el).getBoundingClientRect().left,v=o.vnode.el.querySelector(`th.${g.id}`),w=v.getBoundingClientRect(),k=w.left-p+30;fl(v,"noclick"),c.value={startMouseLeft:y.clientX,startLeft:w.right-p,startColumnLeft:w.left-p,tableLeft:p};const x=S==null?void 0:S.refs.resizeProxy;x.style.left=`${c.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const R=$=>{const K=$.clientX-c.value.startMouseLeft,P=c.value.startLeft+K;x.style.left=`${Math.max(k,P)}px`},L=()=>{if(r.value){const{startColumnLeft:$,startLeft:K}=c.value,Y=Number.parseInt(x.style.left,10)-$;g.width=g.realWidth=Y,S==null||S.emit("header-dragend",g.width,K-$,g,y),requestAnimationFrame(()=>{e.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",r.value=!1,a.value=null,c.value={},t("set-drag-visible",!1)}document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",L),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{vt(v,"noclick")},0)};document.addEventListener("mousemove",R),document.addEventListener("mouseup",L)}},h=(y,g)=>{if(g.children&&g.children.length>0)return;let S=y.target;for(;S&&S.tagName!=="TH";)S=S.parentNode;if(!(!g||!g.resizable)&&!r.value&&e.border){const m=S.getBoundingClientRect(),p=document.body.style;m.width>12&&m.right-y.pageX<8?(p.cursor="col-resize",Ue(S,"is-sortable")&&(S.style.cursor="col-resize"),a.value=g):r.value||(p.cursor="",Ue(S,"is-sortable")&&(S.style.cursor="pointer"),a.value=null)}},d=()=>{!be||(document.body.style.cursor="")},b=({order:y,sortOrders:g})=>{if(y==="")return g[0];const S=g.indexOf(y||null);return g[S>g.length-2?0:S+1]},f=(y,g,S)=>{y.stopPropagation();const m=g.order===S?null:S||b(g);let p=y.target;for(;p&&p.tagName!=="TH";)p=p.parentNode;if(p&&p.tagName==="TH"&&Ue(p,"noclick")){vt(p,"noclick");return}if(!g.sortable)return;const v=e.store.states;let w=v.sortProp.value,k;const x=v.sortingColumn.value;(x!==g||x===g&&x.order===null)&&(x&&(x.order=null),v.sortingColumn.value=g,w=g.property),m?k=g.order=m:k=g.order=null,v.sortProp.value=w,v.sortOrder.value=k,l==null||l.store.commit("changeSortCondition")};return{handleHeaderClick:i,handleHeaderContextMenu:s,handleMouseDown:u,handleMouseMove:h,handleMouseOut:d,handleSortClick:f,handleFilterClick:n}}function ln(e){const t=oe(xe),o=le("table");return{getHeaderRowStyle:a=>{const r=t==null?void 0:t.props.headerRowStyle;return typeof r=="function"?r.call(null,{rowIndex:a}):r},getHeaderRowClass:a=>{const r=[],c=t==null?void 0:t.props.headerRowClassName;return typeof c=="string"?r.push(c):typeof c=="function"&&r.push(c.call(null,{rowIndex:a})),r.join(" ")},getHeaderCellStyle:(a,r,c,u)=>{var h;let d=(h=t==null?void 0:t.props.headerCellStyle)!=null?h:{};typeof d=="function"&&(d=d.call(null,{rowIndex:a,columnIndex:r,row:c,column:u}));const b=u.isSubColumn?null:$t(r,u.fixed,e.store,c);return $e(b,"left"),$e(b,"right"),Object.assign({},d,b)},getHeaderCellClass:(a,r,c,u)=>{const h=u.isSubColumn?[]:Ft(o.b(),r,u.fixed,e.store,c),d=[u.id,u.order,u.headerAlign,u.className,u.labelClassName,...h];u.children||d.push("is-leaf"),u.sortable&&d.push("is-sortable");const b=t==null?void 0:t.props.headerCellClassName;return typeof b=="string"?d.push(b):typeof b=="function"&&d.push(b.call(null,{rowIndex:a,columnIndex:r,row:c,column:u})),d.push(o.e("cell")),d.filter(f=>Boolean(f)).join(" ")}}}const Pl=e=>{const t=[];return e.forEach(o=>{o.children?(t.push(o),t.push.apply(t,Pl(o.children))):t.push(o)}),t},on=e=>{let t=1;const o=(i,s)=>{if(s&&(i.level=s.level+1,t<i.level&&(t=i.level)),i.children){let a=0;i.children.forEach(r=>{o(r,i),a+=r.colSpan}),i.colSpan=a}else i.colSpan=1};e.forEach(i=>{i.level=1,o(i,void 0)});const l=[];for(let i=0;i<t;i++)l.push([]);return Pl(e).forEach(i=>{i.children?(i.rowSpan=1,i.children.forEach(s=>s.isSubColumn=!0)):i.rowSpan=t-i.level+1,l[i.level-1].push(i)}),l};function rn(e){const t=oe(xe),o=z(()=>on(e.store.states.originColumns.value));return{isGroup:z(()=>{const i=o.value.length>1;return i&&t&&(t.state.isGroup.value=!0),i}),toggleAllSelection:i=>{i.stopPropagation(),t==null||t.store.commit("toggleAllSelection")},columnRows:o}}var nn=ce({name:"ElTableHeader",components:{ElCheckbox:Fe},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(e,{emit:t}){const o=Z(),l=oe(xe),n=le("table"),i=_({}),{onColumnsChange:s,onScrollableChange:a}=$l(l);Pe(async()=>{await he(),await he();const{prop:k,order:x}=e.defaultSort;l==null||l.store.commit("sort",{prop:k,order:x,init:!0})});const{handleHeaderClick:r,handleHeaderContextMenu:c,handleMouseDown:u,handleMouseMove:h,handleMouseOut:d,handleSortClick:b,handleFilterClick:f}=tn(e,t),{getHeaderRowStyle:y,getHeaderRowClass:g,getHeaderCellStyle:S,getHeaderCellClass:m}=ln(e),{isGroup:p,toggleAllSelection:v,columnRows:w}=rn(e);return o.state={onColumnsChange:s,onScrollableChange:a},o.filterPanels=i,{ns:n,filterPanels:i,onColumnsChange:s,onScrollableChange:a,columnRows:w,getHeaderRowClass:g,getHeaderRowStyle:y,getHeaderCellClass:m,getHeaderCellStyle:S,handleHeaderClick:r,handleHeaderContextMenu:c,handleMouseDown:u,handleMouseMove:h,handleMouseOut:d,handleSortClick:b,handleFilterClick:f,isGroup:p,toggleAllSelection:v}},render(){const{ns:e,isGroup:t,columnRows:o,getHeaderCellStyle:l,getHeaderCellClass:n,getHeaderRowClass:i,getHeaderRowStyle:s,handleHeaderClick:a,handleHeaderContextMenu:r,handleMouseDown:c,handleMouseMove:u,handleSortClick:h,handleMouseOut:d,store:b,$parent:f}=this;let y=1;return A("thead",{class:{[e.is("group")]:t}},o.map((g,S)=>A("tr",{class:i(S),key:S,style:s(S)},g.map((m,p)=>(m.rowSpan>y&&(y=m.rowSpan),A("th",{class:n(S,p,g,m),colspan:m.colSpan,key:`${m.id}-thead`,rowspan:m.rowSpan,style:l(S,p,g,m),onClick:v=>a(v,m),onContextmenu:v=>r(v,m),onMousedown:v=>c(v,m),onMousemove:v=>u(v,m),onMouseout:d},[A("div",{class:["cell",m.filteredValue&&m.filteredValue.length>0?"highlight":"",m.labelClassName]},[m.renderHeader?m.renderHeader({column:m,$index:p,store:b,_self:f}):m.label,m.sortable&&A("span",{onClick:v=>h(v,m),class:"caret-wrapper"},[A("i",{onClick:v=>h(v,m,"ascending"),class:"sort-caret ascending"}),A("i",{onClick:v=>h(v,m,"descending"),class:"sort-caret descending"})]),m.filterable&&A(en,{store:b,placement:m.filterPlacement||"bottom-start",column:m,upDataColumn:(v,w)=>{m[v]=w}})])]))))))}});function an(e){const t=oe(xe),o=_(""),l=_(A("div")),n=(d,b,f)=>{var y;const g=t,S=ut(d);let m;const p=(y=g==null?void 0:g.vnode.el)==null?void 0:y.dataset.prefix;S&&(m=el({columns:e.store.states.columns.value},S,p),m&&(g==null||g.emit(`cell-${f}`,b,m,S,d))),g==null||g.emit(`row-${f}`,b,m,d)},i=(d,b)=>{n(d,b,"dblclick")},s=(d,b)=>{e.store.commit("setCurrentRow",b),n(d,b,"click")},a=(d,b)=>{n(d,b,"contextmenu")},r=lt(d=>{e.store.commit("setHoverRow",d)},30),c=lt(()=>{e.store.commit("setHoverRow",null)},30);return{handleDoubleClick:i,handleClick:s,handleContextMenu:a,handleMouseEnter:r,handleMouseLeave:c,handleCellMouseEnter:(d,b)=>{var f;const y=t,g=ut(d),S=(f=y==null?void 0:y.vnode.el)==null?void 0:f.dataset.prefix;if(g){const k=el({columns:e.store.states.columns.value},g,S),x=y.hoverState={cell:g,column:k,row:b};y==null||y.emit("cell-mouse-enter",x.row,x.column,x.cell,d)}const m=d.target.querySelector(".cell");if(!(Ue(m,`${S}-tooltip`)&&m.childNodes.length))return;const p=document.createRange();p.setStart(m,0),p.setEnd(m,m.childNodes.length);const v=p.getBoundingClientRect().width,w=(Number.parseInt(ft(m,"paddingLeft"),10)||0)+(Number.parseInt(ft(m,"paddingRight"),10)||0);(v+w>m.offsetWidth||m.scrollWidth>m.offsetWidth)&&Pr(t==null?void 0:t.refs.tableWrapper,g,g.innerText||g.textContent,{placement:"top",strategy:"fixed"},b.tooltipEffect)},handleCellMouseLeave:d=>{if(!ut(d))return;const f=t==null?void 0:t.hoverState;t==null||t.emit("cell-mouse-leave",f==null?void 0:f.row,f==null?void 0:f.column,f==null?void 0:f.cell,d)},tooltipContent:o,tooltipTrigger:l}}function sn(e){const t=oe(xe),o=le("table");return{getRowStyle:(c,u)=>{const h=t==null?void 0:t.props.rowStyle;return typeof h=="function"?h.call(null,{row:c,rowIndex:u}):h||null},getRowClass:(c,u)=>{const h=[o.e("row")];(t==null?void 0:t.props.highlightCurrentRow)&&c===e.store.states.currentRow.value&&h.push("current-row"),e.stripe&&u%2===1&&h.push(o.em("row","striped"));const d=t==null?void 0:t.props.rowClassName;return typeof d=="string"?h.push(d):typeof d=="function"&&h.push(d.call(null,{row:c,rowIndex:u})),h},getCellStyle:(c,u,h,d)=>{const b=t==null?void 0:t.props.cellStyle;let f=b!=null?b:{};typeof b=="function"&&(f=b.call(null,{rowIndex:c,columnIndex:u,row:h,column:d}));const y=d.isSubColumn?null:$t(u,e==null?void 0:e.fixed,e.store);return $e(y,"left"),$e(y,"right"),Object.assign({},f,y)},getCellClass:(c,u,h,d)=>{const b=d.isSubColumn?[]:Ft(o.b(),u,e==null?void 0:e.fixed,e.store),f=[d.id,d.align,d.className,...b],y=t==null?void 0:t.props.cellClassName;return typeof y=="string"?f.push(y):typeof y=="function"&&f.push(y.call(null,{rowIndex:c,columnIndex:u,row:h,column:d})),f.push(o.e("cell")),f.filter(g=>Boolean(g)).join(" ")},getSpan:(c,u,h,d)=>{let b=1,f=1;const y=t==null?void 0:t.props.spanMethod;if(typeof y=="function"){const g=y({row:c,column:u,rowIndex:h,columnIndex:d});Array.isArray(g)?(b=g[0],f=g[1]):typeof g=="object"&&(b=g.rowspan,f=g.colspan)}return{rowspan:b,colspan:f}},getColspanRealWidth:(c,u,h)=>{if(u<1)return c[h].realWidth;const d=c.map(({realWidth:b,width:f})=>b||f).slice(h,h+u);return Number(d.reduce((b,f)=>Number(b)+Number(f),-1))}}}function cn(e){const t=oe(xe),o=le("table"),{handleDoubleClick:l,handleClick:n,handleContextMenu:i,handleMouseEnter:s,handleMouseLeave:a,handleCellMouseEnter:r,handleCellMouseLeave:c,tooltipContent:u,tooltipTrigger:h}=an(e),{getRowStyle:d,getRowClass:b,getCellStyle:f,getCellClass:y,getSpan:g,getColspanRealWidth:S}=sn(e),m=z(()=>e.store.states.columns.value.findIndex(({type:x})=>x==="default")),p=(x,R)=>{const L=t.props.rowKey;return L?Q(x,L):R},v=(x,R,L,$=!1)=>{const{tooltipEffect:K,store:P}=e,{indent:Y,columns:V}=P.states,G=b(x,R);let X=!0;return L&&(G.push(o.em("row",`level-${L.level}`)),X=L.display),A("tr",{style:[X?null:{display:"none"},d(x,R)],class:G,key:p(x,R),onDblclick:H=>l(H,x),onClick:H=>n(H,x),onContextmenu:H=>i(H,x),onMouseenter:()=>s(R),onMouseleave:a},V.value.map((H,E)=>{const{rowspan:O,colspan:U}=g(x,H,R,E);if(!O||!U)return null;const q={...H};q.realWidth=S(V.value,U,E);const re={store:e.store,_self:e.context||t,column:q,row:x,$index:R,cellIndex:E,expanded:$};E===m.value&&L&&(re.treeNode={indent:L.level*Y.value,level:L.level},typeof L.expanded=="boolean"&&(re.treeNode.expanded=L.expanded,"loading"in L&&(re.treeNode.loading=L.loading),"noLazyChildren"in L&&(re.treeNode.noLazyChildren=L.noLazyChildren)));const ae=`${R},${E}`,pe=q.columnKey||q.rawColumnKey||"",ue=w(E,H,re);return A("td",{style:f(R,E,x,H),class:y(R,E,x,H),key:`${pe}${ae}`,rowspan:O,colspan:U,onMouseenter:ve=>r(ve,{...x,tooltipEffect:K}),onMouseleave:c},[ue])}))},w=(x,R,L)=>R.renderCell(L);return{wrappedRowRender:(x,R)=>{const L=e.store,{isRowExpanded:$,assertRowKey:K}=L,{treeData:P,lazyTreeNodeMap:Y,childrenColumnName:V,rowKey:G}=L.states,X=L.states.columns.value;if(X.some(({type:H})=>H==="expand")){const H=$(x),E=v(x,R,void 0,H),O=t.renderExpanded;return H?O?[[E,A("tr",{key:`expanded-row__${E.key}`},[A("td",{colspan:X.length,class:"el-table__cell el-table__expanded-cell"},[O({row:x,$index:R,store:L,expanded:H})])])]]:(console.error("[Element Error]renderExpanded is required."),E):[[E]]}else if(Object.keys(P.value).length){K();const H=Q(x,G.value);let E=P.value[H],O=null;E&&(O={expanded:E.expanded,level:E.level,display:!0},typeof E.lazy=="boolean"&&(typeof E.loaded=="boolean"&&E.loaded&&(O.noLazyChildren=!(E.children&&E.children.length)),O.loading=E.loading));const U=[v(x,R,O)];if(E){let q=0;const re=(pe,ue)=>{!(pe&&pe.length&&ue)||pe.forEach(ve=>{const we={display:ue.display&&ue.expanded,level:ue.level+1,expanded:!1,noLazyChildren:!1,loading:!1},ze=Q(ve,G.value);if(ze==null)throw new Error("For nested data item, row-key is required.");if(E={...P.value[ze]},E&&(we.expanded=E.expanded,E.level=E.level||we.level,E.display=!!(E.expanded&&we.display),typeof E.lazy=="boolean"&&(typeof E.loaded=="boolean"&&E.loaded&&(we.noLazyChildren=!(E.children&&E.children.length)),we.loading=E.loading)),q++,U.push(v(ve,R+q,we)),E){const nt=Y.value[ze]||ve[V.value];re(nt,E)}})};E.display=!0;const ae=Y.value[H]||x[V.value];re(ae,E)}return U}else return v(x,R,void 0)},tooltipContent:u,tooltipTrigger:h}}const un={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var dn=ce({name:"ElTableBody",props:un,setup(e){const t=Z(),o=oe(xe),l=le("table"),{wrappedRowRender:n,tooltipContent:i,tooltipTrigger:s}=cn(e),{onColumnsChange:a,onScrollableChange:r}=$l(o);return te(e.store.states.hoverRow,(c,u)=>{if(!e.store.states.isComplex.value||!be)return;let h=window.requestAnimationFrame;h||(h=d=>window.setTimeout(d,16)),h(()=>{var d;const b=(d=t==null?void 0:t.vnode.el)==null?void 0:d.querySelectorAll(`.${l.e("row")}`),f=b[u],y=b[c];f&&vt(f,"hover-row"),y&&fl(y,"hover-row")})}),Ht(()=>{var c;(c=Ee)==null||c()}),Tt(()=>{var c;(c=Ee)==null||c()}),{ns:l,onColumnsChange:a,onScrollableChange:r,wrappedRowRender:n,tooltipContent:i,tooltipTrigger:s}},render(){const{wrappedRowRender:e,store:t}=this,o=t.states.data.value||[];return A("tbody",{},[o.reduce((l,n)=>l.concat(e(n,l.length)),[])])}});function Pt(e){const t=e.tableLayout==="auto";let o=e.columns||[];t&&o.every(n=>n.width===void 0)&&(o=[]);const l=n=>{const i={key:`${e.tableLayout}_${n.id}`,style:{},name:void 0};return t?i.style={width:`${n.width}px`}:i.name=n.id,i};return A("colgroup",{},o.map(n=>A("col",l(n))))}Pt.props=["columns","tableLayout"];function fn(){const e=oe(xe),t=e==null?void 0:e.store,o=z(()=>t.states.fixedLeafColumnsLength.value),l=z(()=>t.states.rightFixedColumns.value.length),n=z(()=>t.states.columns.value.length),i=z(()=>t.states.fixedColumns.value.length),s=z(()=>t.states.rightFixedColumns.value.length);return{leftFixedLeafCount:o,rightFixedLeafCount:l,columnsCount:n,leftFixedCount:i,rightFixedCount:s,columns:t.states.columns}}function hn(e){const{columns:t}=fn(),o=le("table");return{getCellClasses:(i,s)=>{const a=i[s],r=[o.e("cell"),a.id,a.align,a.labelClassName,...Ft(o.b(),s,a.fixed,e.store)];return a.className&&r.push(a.className),a.children||r.push(o.is("leaf")),r},getCellStyles:(i,s)=>{const a=$t(s,i.fixed,e.store);return $e(a,"left"),$e(a,"right"),a},columns:t}}var bn=ce({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(e){const{getCellClasses:t,getCellStyles:o,columns:l}=hn(e);return{ns:le("table"),getCellClasses:t,getCellStyles:o,columns:l}},render(){const{columns:e,getCellStyles:t,getCellClasses:o,summaryMethod:l,sumText:n,ns:i}=this,s=this.store.states.data.value;let a=[];return l?a=l({columns:e,data:s}):e.forEach((r,c)=>{if(c===0){a[c]=n;return}const u=s.map(f=>Number(f[r.property])),h=[];let d=!0;u.forEach(f=>{if(!Number.isNaN(+f)){d=!1;const y=`${f}`.split(".")[1];h.push(y?y.length:0)}});const b=Math.max.apply(null,h);d?a[c]="":a[c]=u.reduce((f,y)=>{const g=Number(y);return Number.isNaN(+g)?f:Number.parseFloat((f+y).toFixed(Math.min(b,20)))},0)}),A("table",{class:i.e("footer"),cellspacing:"0",cellpadding:"0",border:"0"},[Pt({columns:e}),A("tbody",[A("tr",{},[...e.map((r,c)=>A("td",{key:c,colspan:r.colSpan,rowspan:r.rowSpan,class:o(e,c),style:t(r,c)},[A("div",{class:["cell",r.labelClassName]},[a[c]])]))])])])}});function pn(e){return{setCurrentRow:u=>{e.commit("setCurrentRow",u)},getSelectionRows:()=>e.getSelectionRows(),toggleRowSelection:(u,h)=>{e.toggleRowSelection(u,h,!1),e.updateAllSelected()},clearSelection:()=>{e.clearSelection()},clearFilter:u=>{e.clearFilter(u)},toggleAllSelection:()=>{e.commit("toggleAllSelection")},toggleRowExpansion:(u,h)=>{e.toggleRowExpansionAdapter(u,h)},clearSort:()=>{e.clearSort()},sort:(u,h)=>{e.commit("sort",{prop:u,order:h})}}}function vn(e,t,o,l){const n=_(!1),i=_(null),s=_(!1),a=T=>{s.value=T},r=_({width:null,height:null}),c=_(!1),u={display:"block",verticalAlign:"middle"},h=_();Be(()=>{t.setHeight(e.height)}),Be(()=>{t.setMaxHeight(e.maxHeight)}),te(()=>[e.currentRowKey,o.states.rowKey],([T,H])=>{!C(H)||o.setCurrentRowKey(`${T}`)},{immediate:!0}),te(()=>e.data,T=>{l.store.commit("setData",T)},{immediate:!0,deep:!0}),Be(()=>{e.expandRowKeys&&o.setExpandRowKeysAdapter(e.expandRowKeys)});const d=()=>{l.store.commit("setHoverRow",null),l.hoverState&&(l.hoverState=null)},b=(T,H)=>{const{pixelX:E,pixelY:O}=H;Math.abs(E)>=Math.abs(O)&&(l.refs.bodyWrapper.scrollLeft+=H.pixelX/5)},f=z(()=>e.height||e.maxHeight||o.states.fixedColumns.value.length>0||o.states.rightFixedColumns.value.length>0),y=z(()=>({width:t.bodyWidth.value?`${t.bodyWidth.value}px`:""})),g=()=>{f.value&&t.updateElsHeight(),t.updateColumnsWidth(),requestAnimationFrame(v)};Pe(async()=>{await he(),o.updateColumns(),w(),requestAnimationFrame(g);const T=l.vnode.el;e.flexible&&T&&T.parentElement&&(T.parentElement.style.minWidth="0"),r.value={width:h.value=T.offsetWidth,height:T.offsetHeight},o.states.columns.value.forEach(H=>{H.filteredValue&&H.filteredValue.length&&l.store.commit("filterChange",{column:H,values:H.filteredValue,silent:!0})}),l.$ready=!0});const S=(T,H)=>{if(!T)return;const E=Array.from(T.classList).filter(O=>!O.startsWith("is-scrolling-"));E.push(t.scrollX.value?H:"is-scrolling-none"),T.className=E.join(" ")},m=T=>{const{tableWrapper:H}=l.refs;S(H,T)},p=T=>{const{tableWrapper:H}=l.refs;return!!(H&&H.classList.contains(T))},v=function(){if(!l.refs.scrollBarRef)return;if(!t.scrollX.value){const ae="is-scrolling-none";p(ae)||m(ae);return}const T=l.refs.scrollBarRef.wrap$;if(!T)return;const{scrollLeft:H,offsetWidth:E,scrollWidth:O}=T,{headerWrapper:U,footerWrapper:q}=l.refs;U&&(U.scrollLeft=H),q&&(q.scrollLeft=H);const re=O-E-1;H>=re?m("is-scrolling-right"):m(H===0?"is-scrolling-left":"is-scrolling-middle")},w=()=>{!l.refs.scrollBarRef||(l.refs.scrollBarRef.wrap$&&De(l.refs.scrollBarRef.wrap$,"scroll",v,{passive:!0}),e.fit?al(l.vnode.el,k):De(window,"resize",k))},k=()=>{if(!l.$ready)return;let T=!1;const H=l.vnode.el,{width:E,height:O}=r.value,U=h.value=H.offsetWidth;E!==U&&(T=!0);const q=H.offsetHeight;(e.height||f.value)&&O!==q&&(T=!0),T&&(r.value={width:U,height:q},g())},x=et(),R=z(()=>{const{bodyWidth:T,scrollY:H,gutterWidth:E}=t;return T.value?`${T.value-(H.value?E:0)}px`:""}),L=z(()=>e.maxHeight?"fixed":e.tableLayout);function $(T,H,E){const O=St(T),U=e.showHeader?E:0;if(O!==null)return Ze(O)?`calc(${O} - ${H}px - ${U}px)`:O-H-U}const K=z(()=>{const T=t.headerHeight.value||0,H=t.bodyHeight.value,E=t.footerHeight.value||0;if(e.height)return H||void 0;if(e.maxHeight)return $(e.maxHeight,E,T)}),P=z(()=>{const T=t.headerHeight.value||0,H=t.bodyHeight.value,E=t.footerHeight.value||0;if(e.height)return{height:H?`${H}px`:""};if(e.maxHeight){const O=$(e.maxHeight,E,T);if(O!==null)return{"max-height":`${O}${ke(O)?"px":""}`}}return{}}),Y=z(()=>{if(e.data&&e.data.length)return null;let T="100%";return t.appendHeight.value&&(T=`calc(100% - ${t.appendHeight.value}px)`),{width:h.value?`${h.value}px`:"",height:T}}),V=(T,H)=>{const E=l.refs.bodyWrapper;if(Math.abs(H.spinY)>0){const O=E.scrollTop;H.pixelY<0&&O!==0&&T.preventDefault(),H.pixelY>0&&E.scrollHeight-E.clientHeight>O&&T.preventDefault(),E.scrollTop+=Math.ceil(H.pixelY/5)}else E.scrollLeft+=Math.ceil(H.pixelX/5)},G=z(()=>e.maxHeight?e.showSummary?{bottom:0}:{bottom:t.scrollX.value&&e.data.length?`${t.gutterWidth}px`:""}:e.showSummary?{height:t.tableHeight.value?`${t.tableHeight.value}px`:""}:{height:t.viewportHeight.value?`${t.viewportHeight.value}px`:""}),X=z(()=>{if(e.height)return{height:t.fixedBodyHeight.value?`${t.fixedBodyHeight.value}px`:""};if(e.maxHeight){let T=St(e.maxHeight);if(typeof T=="number")return T=t.scrollX.value?T-t.gutterWidth:T,e.showHeader&&(T-=t.headerHeight.value),T-=t.footerHeight.value,{"max-height":`${T}px`}}return{}});return{isHidden:n,renderExpanded:i,setDragVisible:a,isGroup:c,handleMouseLeave:d,handleHeaderFooterMousewheel:b,tableSize:x,bodyHeight:P,height:K,emptyBlockStyle:Y,handleFixedMousewheel:V,fixedHeight:G,fixedBodyHeight:X,resizeProxyVisible:s,bodyWidth:R,resizeState:r,doLayout:g,tableBodyStyles:y,tableLayout:L,scrollbarViewStyle:u}}var mn={data:{type:Array,default:()=>[]},size:String,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children"})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:{type:Boolean,default:!1},flexible:Boolean};const gn=()=>{const e=_(),t=(i,s)=>{const a=e.value;a&&a.scrollTo(i,s)},o=(i,s)=>{const a=e.value;a&&ke(s)&&["Top","Left"].includes(i)&&a[`setScroll${i}`](s)};return{scrollBarRef:e,scrollTo:t,setScrollTop:i=>o("Top",i),setScrollLeft:i=>o("Left",i)}};let yn=1;const xn=ce({name:"ElTable",directives:{Mousewheel:cr},components:{TableHeader:nn,TableBody:dn,TableFooter:bn,ElScrollbar:gl,hColgroup:Pt},props:mn,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change"],setup(e){const{t}=ml(),o=le("table"),l=Z();Rt(xe,l);const n=jr(l,e);l.store=n;const i=new Ur({store:l.store,table:l,fit:e.fit,showHeader:e.showHeader});l.layout=i;const s=z(()=>(n.states.data.value||[]).length===0),{setCurrentRow:a,getSelectionRows:r,toggleRowSelection:c,clearSelection:u,clearFilter:h,toggleAllSelection:d,toggleRowExpansion:b,clearSort:f,sort:y}=pn(n),{isHidden:g,renderExpanded:S,setDragVisible:m,isGroup:p,handleMouseLeave:v,handleHeaderFooterMousewheel:w,tableSize:k,bodyHeight:x,height:R,emptyBlockStyle:L,handleFixedMousewheel:$,fixedHeight:K,fixedBodyHeight:P,resizeProxyVisible:Y,bodyWidth:V,resizeState:G,doLayout:X,tableBodyStyles:T,tableLayout:H,scrollbarViewStyle:E}=vn(e,i,n,l),{scrollBarRef:O,scrollTo:U,setScrollLeft:q,setScrollTop:re}=gn(),ae=lt(X,50),pe=`el-table_${yn++}`;l.tableId=pe,l.state={isGroup:p,resizeState:G,doLayout:X,debouncedUpdateLayout:ae};const ue=z(()=>e.sumText||t("el.table.sumText")),ve=z(()=>e.emptyText||t("el.table.emptyText"));return{ns:o,layout:i,store:n,handleHeaderFooterMousewheel:w,handleMouseLeave:v,tableId:pe,tableSize:k,isHidden:g,isEmpty:s,renderExpanded:S,resizeProxyVisible:Y,resizeState:G,isGroup:p,bodyWidth:V,bodyHeight:x,height:R,tableBodyStyles:T,emptyBlockStyle:L,debouncedUpdateLayout:ae,handleFixedMousewheel:$,fixedHeight:K,fixedBodyHeight:P,setCurrentRow:a,getSelectionRows:r,toggleRowSelection:c,clearSelection:u,clearFilter:h,toggleAllSelection:d,toggleRowExpansion:b,clearSort:f,doLayout:X,sort:y,t,setDragVisible:m,context:l,computedSumText:ue,computedEmptyText:ve,tableLayout:H,scrollbarViewStyle:E,scrollBarRef:O,scrollTo:U,setScrollLeft:q,setScrollTop:re}}}),wn=["data-prefix"],_n={ref:"hiddenColumns",class:"hidden-columns"};function kn(e,t,o,l,n,i){const s=ie("hColgroup"),a=ie("table-header"),r=ie("table-body"),c=ie("el-scrollbar"),u=ie("table-footer"),h=ul("mousewheel");return B(),j("div",{ref:"tableWrapper",class:F([{[e.ns.m("fit")]:e.fit,[e.ns.m("striped")]:e.stripe,[e.ns.m("border")]:e.border||e.isGroup,[e.ns.m("hidden")]:e.isHidden,[e.ns.m("group")]:e.isGroup,[e.ns.m("fluid-height")]:e.maxHeight,[e.ns.m("scrollable-x")]:e.layout.scrollX.value,[e.ns.m("scrollable-y")]:e.layout.scrollY.value,[e.ns.m("enable-row-hover")]:!e.store.states.isComplex.value,[e.ns.m("enable-row-transition")]:(e.store.states.data.value||[]).length!==0&&(e.store.states.data.value||[]).length<100,"has-footer":e.showSummary},e.ns.m(e.tableSize),e.className,e.ns.b(),e.ns.m(`layout-${e.tableLayout}`)]),style:me(e.style),"data-prefix":e.ns.namespace.value,onMouseleave:t[0]||(t[0]=d=>e.handleMouseLeave())},[J("div",{class:F(e.ns.e("inner-wrapper"))},[J("div",_n,[Ne(e.$slots,"default")],512),e.showHeader&&e.tableLayout==="fixed"?Ce((B(),j("div",{key:0,ref:"headerWrapper",class:F(e.ns.e("header-wrapper"))},[J("table",{ref:"tableHeader",class:F(e.ns.e("header")),style:me(e.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[fe(s,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),fe(a,{ref:"tableHeaderRef",border:e.border,"default-sort":e.defaultSort,store:e.store,onSetDragVisible:e.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])],6)],2)),[[h,e.handleHeaderFooterMousewheel]]):ge("v-if",!0),J("div",{ref:"bodyWrapper",style:me(e.bodyHeight),class:F(e.ns.e("body-wrapper"))},[fe(c,{ref:"scrollBarRef",height:e.maxHeight?void 0:e.height,"max-height":e.maxHeight?e.height:void 0,"view-style":e.scrollbarViewStyle,always:e.scrollbarAlwaysOn},{default:de(()=>[J("table",{ref:"tableBody",class:F(e.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:me({width:e.bodyWidth,tableLayout:e.tableLayout})},[fe(s,{columns:e.store.states.columns.value,"table-layout":e.tableLayout},null,8,["columns","table-layout"]),e.showHeader&&e.tableLayout==="auto"?(B(),ye(a,{key:0,border:e.border,"default-sort":e.defaultSort,store:e.store,onSetDragVisible:e.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])):ge("v-if",!0),fe(r,{context:e.context,highlight:e.highlightCurrentRow,"row-class-name":e.rowClassName,"tooltip-effect":e.tooltipEffect,"row-style":e.rowStyle,store:e.store,stripe:e.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","row-style","store","stripe"])],6),e.isEmpty?(B(),j("div",{key:0,ref:"emptyBlock",style:me(e.emptyBlockStyle),class:F(e.ns.e("empty-block"))},[J("span",{class:F(e.ns.e("empty-text"))},[Ne(e.$slots,"empty",{},()=>[ot(He(e.computedEmptyText),1)])],2)],6)):ge("v-if",!0),e.$slots.append?(B(),j("div",{key:1,ref:"appendWrapper",class:F(e.ns.e("append-wrapper"))},[Ne(e.$slots,"append")],2)):ge("v-if",!0)]),_:3},8,["height","max-height","view-style","always"])],6),e.border||e.isGroup?(B(),j("div",{key:1,class:F(e.ns.e("border-left-patch"))},null,2)):ge("v-if",!0)],2),e.showSummary?Ce((B(),j("div",{key:0,ref:"footerWrapper",class:F(e.ns.e("footer-wrapper"))},[fe(u,{border:e.border,"default-sort":e.defaultSort,store:e.store,style:me(e.tableBodyStyles),"sum-text":e.computedSumText,"summary-method":e.summaryMethod},null,8,["border","default-sort","store","style","sum-text","summary-method"])],2)),[[pt,!e.isEmpty],[h,e.handleHeaderFooterMousewheel]]):ge("v-if",!0),Ce(J("div",{ref:"resizeProxy",class:F(e.ns.e("column-resize-proxy"))},null,2),[[pt,e.resizeProxyVisible]])],46,wn)}var Cn=Le(xn,[["render",kn],["__file","/home/runner/work/element-plus/element-plus/packages/components/table/src/table.vue"]]);const Sn={selection:"table-column--selection",expand:"table__expand-column"},En={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},Hn=e=>Sn[e]||"",Ln={selection:{renderHeader({store:e}){function t(){return e.states.data.value&&e.states.data.value.length===0}return A(Fe,{disabled:t(),size:e.states.tableSize.value,indeterminate:e.states.selection.value.length>0&&!e.states.isAllSelected.value,"onUpdate:modelValue":e.toggleAllSelection,modelValue:e.states.isAllSelected.value})},renderCell({row:e,column:t,store:o,$index:l}){return A(Fe,{disabled:t.selectable?!t.selectable.call(null,e,l):!1,size:o.states.tableSize.value,onChange:()=>{o.commit("rowSelectedChanged",e)},onClick:n=>n.stopPropagation(),modelValue:o.isSelected(e)})},sortable:!1,resizable:!1},index:{renderHeader({column:e}){return e.label||"#"},renderCell({column:e,$index:t}){let o=t+1;const l=e.index;return typeof l=="number"?o=t+l:typeof l=="function"&&(o=l(t)),A("div",{},[o])},sortable:!1},expand:{renderHeader({column:e}){return e.label||""},renderCell({row:e,store:t,expanded:o}){const{ns:l}=t,n=[l.e("expand-icon")];return o&&n.push(l.em("expand-icon","expanded")),A("div",{class:n,onClick:function(s){s.stopPropagation(),t.toggleRowExpansion(e)}},{default:()=>[A(Mt,null,{default:()=>[A(hl)]})]})},sortable:!1,resizable:!1}};function Rn({row:e,column:t,$index:o}){var l;const n=t.property,i=n&&go(e,n).value;return t&&t.formatter?t.formatter(e,t,i,o):((l=i==null?void 0:i.toString)==null?void 0:l.call(i))||""}function Tn({row:e,treeNode:t,store:o},l=!1){const{ns:n}=o;if(!t)return l?[A("span",{class:n.e("placeholder")})]:null;const i=[],s=function(a){a.stopPropagation(),o.loadOrToggle(e)};if(t.indent&&i.push(A("span",{class:n.e("indent"),style:{"padding-left":`${t.indent}px`}})),typeof t.expanded=="boolean"&&!t.noLazyChildren){const a=[n.e("expand-icon"),t.expanded?n.em("expand-icon","expanded"):""];let r=hl;t.loading&&(r=yo),i.push(A("div",{class:a,onClick:s},{default:()=>[A(Mt,{class:{[n.is("loading")]:t.loading}},{default:()=>[A(r)]})]}))}else i.push(A("span",{class:n.e("placeholder")}));return i}function ll(e,t){return e.reduce((o,l)=>(o[l]=l,o),t)}function Nn(e,t){const o=Z();return{registerComplexWatchers:()=>{const i=["fixed"],s={realWidth:"width",realMinWidth:"minWidth"},a=ll(i,s);Object.keys(a).forEach(r=>{const c=s[r];Ve(t,c)&&te(()=>t[c],u=>{let h=u;c==="width"&&r==="realWidth"&&(h=At(u)),c==="minWidth"&&r==="realMinWidth"&&(h=zl(u)),o.columnConfig.value[c]=h,o.columnConfig.value[r]=h;const d=c==="fixed";e.value.store.scheduleLayout(d)})})},registerNormalWatchers:()=>{const i=["label","filters","filterMultiple","sortable","index","formatter","className","labelClassName","showOverflowTooltip"],s={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},a=ll(i,s);Object.keys(a).forEach(r=>{const c=s[r];Ve(t,c)&&te(()=>t[c],u=>{o.columnConfig.value[r]=u})})}}}function zn(e,t,o){const l=Z(),n=_(""),i=_(!1),s=_(),a=_(),r=le("table");Be(()=>{s.value=e.align?`is-${e.align}`:null,s.value}),Be(()=>{a.value=e.headerAlign?`is-${e.headerAlign}`:s.value,a.value});const c=z(()=>{let p=l.vnode.vParent||l.parent;for(;p&&!p.tableId&&!p.columnId;)p=p.vnode.vParent||p.parent;return p}),u=z(()=>{const{store:p}=l.parent;if(!p)return!1;const{treeData:v}=p.states,w=v.value;return w&&Object.keys(w).length>0}),h=_(At(e.width)),d=_(zl(e.minWidth)),b=p=>(h.value&&(p.width=h.value),d.value&&(p.minWidth=d.value),p.minWidth||(p.minWidth=80),p.realWidth=Number(p.width===void 0?p.minWidth:p.width),p),f=p=>{const v=p.type,w=Ln[v]||{};Object.keys(w).forEach(x=>{const R=w[x];x!=="className"&&R!==void 0&&(p[x]=R)});const k=Hn(v);if(k){const x=`${C(r.namespace)}-${k}`;p.className=p.className?`${p.className} ${x}`:x}return p},y=p=>{Array.isArray(p)?p.forEach(w=>v(w)):v(p);function v(w){var k;((k=w==null?void 0:w.type)==null?void 0:k.name)==="ElTableColumn"&&(w.vParent=l)}};return{columnId:n,realAlign:s,isSubColumn:i,realHeaderAlign:a,columnOrTableParent:c,setColumnWidth:b,setColumnForcedProps:f,setColumnRenders:p=>{e.renderHeader||p.type!=="selection"&&(p.renderHeader=k=>{l.columnConfig.value.label;const x=t.header;return x?x(k):p.label});let v=p.renderCell;const w=u.value;return p.type==="expand"?(p.renderCell=k=>A("div",{class:"cell"},[v(k)]),o.value.renderExpanded=k=>t.default?t.default(k):t.default):(v=v||Rn,p.renderCell=k=>{let x=null;if(t.default){const K=t.default(k);x=K.some(P=>P.type!==xo)?K:v(k)}else x=v(k);const R=w&&k.cellIndex===0,L=Tn(k,R),$={class:"cell",style:{}};return p.showOverflowTooltip&&($.class=`${$.class} ${C(r.namespace)}-tooltip`,$.style={width:`${(k.column.realWidth||Number(k.column.width))-1}px`}),y(x),A("div",$,[L,x])}),p},getPropsData:(...p)=>p.reduce((v,w)=>(Array.isArray(w)&&w.forEach(k=>{v[k]=e[k]}),v),{}),getColumnElIndex:(p,v)=>Array.prototype.indexOf.call(p,v)}}var Wn={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showTooltipWhenOverflow:Boolean,showOverflowTooltip:Boolean,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:e=>e.every(t=>["ascending","descending",null].includes(t))}};let Mn=1;var Ol=ce({name:"ElTableColumn",components:{ElCheckbox:Fe},props:Wn,setup(e,{slots:t}){const o=Z(),l=_({}),n=z(()=>{let m=o.parent;for(;m&&!m.tableId;)m=m.parent;return m}),{registerNormalWatchers:i,registerComplexWatchers:s}=Nn(n,e),{columnId:a,isSubColumn:r,realHeaderAlign:c,columnOrTableParent:u,setColumnWidth:h,setColumnForcedProps:d,setColumnRenders:b,getPropsData:f,getColumnElIndex:y,realAlign:g}=zn(e,t,n),S=u.value;a.value=`${S.tableId||S.columnId}_column_${Mn++}`,dl(()=>{r.value=n.value!==S;const m=e.type||"default",p=e.sortable===""?!0:e.sortable,v={...En[m],id:a.value,type:m,property:e.prop||e.property,align:g,headerAlign:c,showOverflowTooltip:e.showOverflowTooltip||e.showTooltipWhenOverflow,filterable:e.filters||e.filterMethod,filteredValue:[],filterPlacement:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:p,index:e.index,rawColumnKey:o.vnode.key};let L=f(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement"]);L=Ar(v,L),L=Fr(b,h,d)(L),l.value=L,i(),s()}),Pe(()=>{var m;const p=u.value,v=r.value?p.vnode.el.children:(m=p.refs.hiddenColumns)==null?void 0:m.children,w=()=>y(v||[],o.vnode.el);l.value.getColumnIndex=w,w()>-1&&n.value.store.commit("insertColumn",l.value,r.value?p.columnConfig.value:null)}),nl(()=>{n.value.store.commit("removeColumn",l.value,r.value?S.columnConfig.value:null)}),o.columnId=a.value,o.columnConfig=l},render(){var e,t,o;try{const l=(t=(e=this.$slots).default)==null?void 0:t.call(e,{row:{},column:{},$index:-1}),n=[];if(Array.isArray(l))for(const s of l)((o=s.type)==null?void 0:o.name)==="ElTableColumn"||s.shapeFlag&2?n.push(s):s.type===Ke&&Array.isArray(s.children)&&s.children.forEach(a=>{(a==null?void 0:a.patchFlag)!==1024&&!Ze(a==null?void 0:a.children)&&n.push(a)});return A("div",n)}catch{return A("div",[])}}});const Yn=zt(Cn,{TableColumn:Ol}),Un=Wt(Ol);export{Dn as C,gl as E,Kn as I,rt as U,vl as a,ml as b,Vn as c,lt as d,lr as e,Un as f,Bn as g,Yn as h,On as i,In as s,jn as u};
